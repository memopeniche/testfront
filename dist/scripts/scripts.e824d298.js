function showAlert(a,b){$("#alertModal .modal-body").text(a),b?$("#alertModal .modal-header").removeClass("bg-danger").addClass("bg-success"):$("#alertModal .modal-header").addClass("bg-danger").removeClass("bg-success"),$("#alertModal").modal()}var mvpready_core=function(){"use strict";var a=function(a){var b=void 0===a||""===a?"slate":a,c={slate:["#D74B4B","#475F77","#BCBCBC","#777777","#6685a4","#E68E8E"],belize:["#2980b9","#7CB268","#A9A9A9","#888888","#74B5E0","#B3D1A7"],square:["#6B5C93","#444444","#569BAA","#AFB7C2","#A89EC2","#A9CCD3"],pom:["#e74c3c","#444444","#569BAA","#AFB7C2","#F2A299","#A9CBD3"],royal:["#3498DB","#2c3e50","#569BAA","#AFB7C2","#ACCDD5","#6487AA"],carrot:["#E5723F","#67B0DE","#373737","#BCBCBC","#F2BAA2","#267BAE"]};return c[b]},b={height:"100%",railVisible:!0,railColor:"#999",size:"5px",color:"#888",touchScrollStep:60},c=function(){return $(".navbar-toggle").is(":visible")},d=function(){return $(".sidebar-toggle").is(":visible")},e=function(){$(".navbar-toggle, .mainnav-toggle").click(function(a){$(this).toggleClass("is-open")})},f=function(){var a=$("<a>",{id:"back-to-top",href:"#top"}),b=$("<i>",{class:"fa fa-chevron-up"});a.appendTo("body"),b.appendTo(a),a.hide(),$(window).scroll(function(){$(this).scrollTop()>150?a.fadeIn():a.fadeOut()}),a.click(function(a){a.preventDefault(),$("body, html").animate({scrollTop:0},600)})},g=function(){var a;$(".sidebar .dropdown > a").click(function(a){$(this).parent().hasClass("has_sub")&&a.preventDefault();var b=$(this),c=b.parents("li");c.hasClass("open")?c.find("ul").slideUp(250,function(){$(this).parent().removeClass("open")}):(c.siblings().find("ul").slideUp(250,function(){$(this).parent().removeClass("open")}),c.find("ul").slideDown(250,function(){$(this).parent().addClass("open")}))}),h(),$(window).on("resize",function(b){clearTimeout(a),a=setTimeout(function(){h()},250)})},h=function(){!d()},i=function(){$(".mainnav-menu .dropdown-toggle").click(function(a){a.preventDefault(),a.stopPropagation();var b=$(this);b.parent().addClass("open").trigger("show.bs.dropdown"),b.parent().siblings(".dropdown").removeClass("open").trigger("hide.bs.dropdown")})},j=function(a){$('[data-hover="dropdown"]').each(function(b){var d,e=$(this),f={delay:{show:1e3,hide:1e3}},g=e.parent(),h=$.extend(f,a);"ontouchstart"in document.documentElement||g.find(".dropdown-toggle").click(function(a){c()||(a.preventDefault(),a.stopPropagation())}),g.mouseenter(function(){return!c()&&void(d=setTimeout(function(){g.addClass("open"),g.trigger("show.bs.dropdown")},h.delay.show))}),g.mouseleave(function(){return!c()&&(clearTimeout(d),void(d=setTimeout(function(){g.removeClass("open keep-open"),g.trigger("hide.bs.dropdown")},h.delay.hide)))})})},k=function(){var a=$(".navbar-notification"),c={};a.find("> .dropdown-toggle").click(function(a){mvpready_core.isLayoutCollapsed()&&(window.location=$(this).prop("href"))}),c=$.extend(c,b,{height:225})};return{initNavEnhanced:i,initNavHover:j,initSidebarNav:g,initNavbarNotifications:k,initBackToTop:f,isLayoutCollapsed:c,initLayoutToggles:e,layoutColors:a("slate")}}(),mvpready_helpers=function(){"use strict";var a=function(){$.fn.parsley&&$(".parsley-form").each(function(){$(this).parsley({trigger:"change",errorsContainer:function(a){return a.$element.parents("form").is(".form-horizontal")?a.$element.parents("*[class^='col-']"):a.$element.parents(".form-group")},errorsWrapper:'<ul class="parsley-error-list"></ul>'})})},b=function(){$(".accordion-simple, .accordion-panel").each(function(a){var b=$(this),c=b.find(".accordion-toggle"),d=b.find(".panel-collapse.in").parent();d.addClass("is-open"),c.prepend('<i class="fa accordion-caret"></i>'),c.on("click",function(a){var b=$(this).parents(".panel");b.toggleClass("is-open"),b.siblings().removeClass("is-open")})})},c=function(){$.fn.tooltip&&$(".ui-tooltip").tooltip({container:"body"}),$.fn.popover&&$(".ui-popover").popover({container:"body"})},d=function(){$.fn.magnificPopup&&($(".ui-lightbox").magnificPopup({type:"image",closeOnContentClick:!1,closeBtnInside:!0,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0,tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}}),$(".ui-lightbox-video, .ui-lightbox-iframe").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),$(".ui-lightbox-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(a){return a.el.attr("title")}}}))},e=function(){$.fn.select2&&$(".ui-select").select2({allowClear:!0,placeholder:"Select..."})},f=function(){$.fn.iCheck&&$(".ui-check").iCheck({checkboxClass:"ui-icheck icheckbox_minimal-grey",radioClass:"ui-icheck iradio_minimal-grey",inheritClass:!0}).on("ifChanged",function(a){$(a.currentTarget).trigger("change"),console.log($(a.currentTarget)),console.log("changed")})},g=function(){$.fn.dataTableHelper&&$(".ui-datatable").dataTableHelper()},h=function(){$.fn.timepicker&&($(".ui-timepicker").timepicker(),$(".ui-timepicker-modal").timepicker({template:"modal"}))},i=function(){$.fn.datepicker&&$(".ui-datepicker").datepicker({autoclose:!0,todayHighlight:!0})},j=function(){$.fn.simplecolorpicker&&$(".ui-colorpicker").each(function(a){var b=$(this).data("picker");$(this).simplecolorpicker({picker:b})})};return{initAccordions:b,initFormValidation:a,initTooltips:c,initLightbox:d,initSelect:e,initIcheck:f,initDataTableHelper:g,initiTimePicker:h,initDatePicker:i,initColorPicker:j}}(),mvpready_admin=function(){"use strict";return{init:function(){mvpready_core.initNavEnhanced(),mvpready_core.initNavHover({delay:{show:250,hide:350}}),mvpready_core.initNavbarNotifications(),mvpready_core.initLayoutToggles(),mvpready_core.initBackToTop(),mvpready_helpers.initAccordions(),mvpready_helpers.initFormValidation(),mvpready_helpers.initTooltips(),mvpready_helpers.initLightbox(),mvpready_helpers.initSelect(),mvpready_helpers.initIcheck(),mvpready_helpers.initDataTableHelper(),mvpready_helpers.initiTimePicker(),mvpready_helpers.initDatePicker(),mvpready_helpers.initColorPicker()}}}();$(function(){mvpready_admin.init()}),function(){function a(){}function b(a){var b=a.length-1;return function(){var c=v.call(arguments,0,b),d=v.call(arguments,b);return a.apply(this,c.concat([d]))}}function c(a){return b(function(b,c){"function"!=typeof b&&(b=w(b));var d=function(a){return b.apply(a,[a].concat(c))};return a.call(this,d)})}function d(a){var b=v.call(arguments,1);return function(){return a.apply(this,b)}}function e(a,b){if(!b)throw new Error("prayer failed: "+a)}function f(a){e("a direction was passed",a===y||a===z)}function g(a,b,c){e("a parent is always present",a),e("leftward is properly set up",function(){return b?b[z]===c&&b.parent===a:a.ends[y]===c}()),e("rightward is properly set up",function(){return c?c[y]===b&&c.parent===a:a.ends[z]===b}())}function h(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')}function i(a){return h(),Ka(a)}function j(b){function c(a){if(!a||!a.nodeType)return null;var b=A(a).children(".mq-root-block").attr(s),c=b&&C.byId[b].controller;return c?e[c.KIND_OF_MQ](c):null}function d(a,b){b&&b.handlers&&(b.handlers={fns:b.handlers,APIClasses:e});for(var c in b)if(b.hasOwnProperty(c)){var d=b[c],f=L[c];a[c]=f?f(d):d}}if(!(O<=b&&b<=P))throw"Only interface versions between "+O+" and "+P+" supported. You specified: "+b;var e={};c.L=y,c.R=z,c.config=function(a){return d(K.p,a),this},c.registerEmbed=function(a,b){if(!/^[a-z][a-z0-9]*$/i.test(a))throw"Embed name must start with letter and be only letters and digits";N[a]=b};var f=e.AbstractMathQuill=x(M,function(a){a.init=function(a){this.__controller=a,this.__options=a.options,this.id=a.id,this.data=a.data},a.__mathquillify=function(a){var b=this.__controller,c=b.root,d=b.container;b.createTextarea();var e=d.addClass(a).contents().detach();c.jQ=A('<span class="mq-root-block"/>').attr(s,c.id).appendTo(d),this.latex(e.text()),this.revert=function(){return d.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(e)}},a.config=function(a){return d(this.__options,a),this},a.el=function(){return this.__controller.container[0]},a.text=function(){return this.__controller.exportText()},a.latex=function(a){return arguments.length>0?(this.__controller.renderLatexMath(a),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},a.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},a.reflow=function(){return this.__controller.root.postOrder("reflow"),this}});c.prototype=f.prototype,e.EditableField=x(f,function(b,c){b.__mathquillify=function(){return c.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},b.focus=function(){return this.__controller.textarea.focus(),this},b.blur=function(){return this.__controller.textarea.blur(),this},b.write=function(a){return this.__controller.writeLatex(a),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},b.cmd=function(a){var b=this.__controller.notify(),c=b.cursor;if(/^\\[a-z]+$/i.test(a)){a=a.slice(1);var d=E[a];d&&(a=d(a),c.selection&&a.replaces(c.replaceSelection()),a.createLeftOf(c.show()),this.__controller.scrollHoriz())}else c.parent.write(c,a);return b.blurred&&c.hide().parent.blur(),this},b.select=function(){var a=this.__controller;for(a.notify("move").cursor.insAtRightEnd(a.root);a.cursor[y];)a.selectLeft();return this},b.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},b.moveToDirEnd=function(a){return this.__controller.notify("move").cursor.insAtDirEnd(a,this.__controller.root),this},b.moveToLeftEnd=function(){return this.moveToDirEnd(y)},b.moveToRightEnd=function(){return this.moveToDirEnd(z)},b.keystroke=function(b){for(var b=b.replace(/^\s+|\s+$/g,"").split(/\s+/),c=0;c<b.length;c+=1)this.__controller.keystroke(b[c],{preventDefault:a});return this},b.typedText=function(a){for(var b=0;b<a.length;b+=1)this.__controller.typedText(a.charAt(b));return this},b.dropEmbedded=function(a,b,c){var d=a-A(window).scrollLeft(),e=b-A(window).scrollTop(),f=document.elementFromPoint(d,e);this.__controller.seek(A(f),a,b);var g=Ja().setOptions(c);g.createLeftOf(this.__controller.cursor)}}),c.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},c.EditableField.prototype=e.EditableField.prototype;for(var g in J)(function(a,d){var f=e[a]=d(e);c[a]=function(d,e){var g=c(d);if(g instanceof f||!d||!d.nodeType)return g;var h=I(f.RootBlock(),A(d),K());return h.KIND_OF_MQ=a,f(h).__mathquillify(e,b)},c[a].prototype=f.prototype})(g,J[g]);return c}function k(a){for(var b="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),c=0;c<b.length;c+=1)(function(b){a[b]=function(a){this.controller.handle(b,a)}})(b[c]);a.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function l(a,b,c){return x(_,{ctrlSeq:a,htmlTemplate:"<"+b+" "+c+">&0</"+b+">"})}function m(a){var b=this.parent,c=a;do{if(c[z])return a.insLeftOf(b);c=c.parent.parent}while(c!==b);a.insRightOf(b)}function n(a,b){a.jQadd=function(){b.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},a.reflow=function(){var a=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));sa(this.delimjQs,t(1+.2*(a-1),1.2),1.2*a)}}function o(a,b){var b=b||a,c=Ha[a],e=Ha[b];F[a]=d(Ga,y,a,c,b,e),F[c]=d(Ga,z,a,c,b,e)}var p,q=window.jQuery,r="mathquill-command-id",s="mathquill-block-id",t=Math.min,u=Math.max,v=[].slice,w=b(function(a,c){return b(function(b,d){if(a in b)return b[a].apply(b,c.concat(d))})}),x=function(a,b,c){function d(a){return"object"==typeof a}function e(a){return"function"==typeof a}function f(){}return function g(h,i){function j(){var a=new k;return e(a.init)&&a.init.apply(a,arguments),a}function k(){}i===c&&(i=h,h=Object),j.Bare=k;var l,m=f[a]=h[a],n=k[a]=j[a]=j.p=new f;return n.constructor=j,j.mixin=function(b){return k[a]=j[a]=g(j,b)[a],j},(j.open=function(a){if(l={},e(a)?l=a.call(j,n,m,j,h):d(a)&&(l=a),d(l))for(var c in l)b.call(l,c)&&(n[c]=l[c]);return e(n.init)||(n.init=h),j})(i)}}("prototype",{}.hasOwnProperty),y=-1,z=1,A=x(q,function(a){a.insDirOf=function(a,b){return a===y?this.insertBefore(b.first()):this.insertAfter(b.last())},a.insAtDirEnd=function(a,b){return a===y?this.prependTo(b):this.appendTo(b)}}),B=x(function(a){a.parent=0,a[y]=0,a[z]=0,a.init=function(a,b,c){this.parent=a,this[y]=b,this[z]=c},this.copy=function(a){return B(a.parent,a[y],a[z])}}),C=x(function(a){function b(){return d+=1}a[y]=0,a[z]=0,a.parent=0;var d=0;this.byId={},a.init=function(){this.id=b(),C.byId[this.id]=this,this.ends={},this.ends[y]=0,this.ends[z]=0},a.dispose=function(){delete C.byId[this.id]},a.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},a.jQ=A(),a.jQadd=function(a){return this.jQ=this.jQ.add(a)},a.jQize=function(a){function b(a){if(a.getAttribute){var c=a.getAttribute("mathquill-command-id"),d=a.getAttribute("mathquill-block-id");c&&C.byId[c].jQadd(a),d&&C.byId[d].jQadd(a)}for(a=a.firstChild;a;a=a.nextSibling)b(a)}for(var a=A(a||this.html()),c=0;c<a.length;c+=1)b(a[c]);return a},a.createDir=function(a,b){f(a);var c=this;return c.jQize(),c.jQ.insDirOf(a,b.jQ),b[a]=c.adopt(b.parent,b[y],b[z]),c},a.createLeftOf=function(a){return this.createDir(y,a)},a.selectChildren=function(a,b){return H(a,b)},a.bubble=c(function(a){for(var b=this;b;b=b.parent){var c=a(b);if(c===!1)break}return this}),a.postOrder=c(function(a){return function b(c){c.eachChild(b),a(c)}(this),this}),a.isEmpty=function(){return 0===this.ends[y]&&0===this.ends[z]},a.children=function(){return D(this.ends[y],this.ends[z])},a.eachChild=function(){var a=this.children();return a.each.apply(a,arguments),this},a.foldChildren=function(a,b){return this.children().fold(a,b)},a.withDirAdopt=function(a,b,c,d){return D(this,this).withDirAdopt(a,b,c,d),this},a.adopt=function(a,b,c){return D(this,this).adopt(a,b,c),this},a.disown=function(){return D(this,this).disown(),this},a.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}}),D=x(function(a){a.init=function(a,b,c){if(c===p&&(c=y),f(c),e("no half-empty fragments",!a==!b),this.ends={},a){e("withDir is passed to Fragment",a instanceof C),e("oppDir is passed to Fragment",b instanceof C),e("withDir and oppDir have the same parent",a.parent===b.parent),this.ends[c]=a,this.ends[-c]=b;var d=this.fold([],function(a,b){return a.push.apply(a,b.jQ.get()),a});this.jQ=this.jQ.add(d)}},a.jQ=A(),a.withDirAdopt=function(a,b,c,d){return a===y?this.adopt(b,c,d):this.adopt(b,d,c)},a.adopt=function(a,b,c){g(a,b,c);var d=this;d.disowned=!1;var e=d.ends[y];if(!e)return this;var f=d.ends[z];return b||(a.ends[y]=e),c?c[y]=f:a.ends[z]=f,d.ends[z][z]=c,d.each(function(c){c[y]=b,c.parent=a,b&&(b[z]=c),b=c}),d},a.disown=function(){var a=this,b=a.ends[y];if(!b||a.disowned)return a;a.disowned=!0;var c=a.ends[z],d=b.parent;return g(d,b[y],b),g(d,c,c[z]),b[y]?b[y][z]=c[z]:d.ends[y]=c[z],c[z]?c[z][y]=b[y]:d.ends[z]=b[y],a},a.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},a.each=c(function(a){var b=this,c=b.ends[y];if(!c)return b;for(;c!==b.ends[z][z];c=c[z]){var d=a(c);if(d===!1)break}return b}),a.fold=function(a,b){return this.each(function(c){a=b.call(this,a,c)}),a}}),E={},F={},G=x(B,function(a){a.init=function(a,b){this.parent=a,this.options=b;var c=this.jQ=this._jQ=A('<span class="mq-cursor">&#8203;</span>');this.blink=function(){c.toggleClass("mq-blink")},this.upDownCache={}},a.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[z]?this.selection&&this.selection.ends[y][y]===this[y]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[z].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},a.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=A(),this},a.withDirInsertAt=function(a,b,c,d){var e=this.parent;this.parent=b,this[a]=c,this[-a]=d,e!==b&&e.blur&&e.blur()},a.insDirOf=function(a,b){return f(a),this.jQ.insDirOf(a,b.jQ),this.withDirInsertAt(a,b.parent,b[a],b),this.parent.jQ.addClass("mq-hasCursor"),this},a.insLeftOf=function(a){return this.insDirOf(y,a)},a.insRightOf=function(a){return this.insDirOf(z,a)},a.insAtDirEnd=function(a,b){return f(a),this.jQ.insAtDirEnd(a,b.jQ),this.withDirInsertAt(a,b,0,b.ends[a]),b.focus(),this},a.insAtLeftEnd=function(a){return this.insAtDirEnd(y,a)},a.insAtRightEnd=function(a){return this.insAtDirEnd(z,a)},a.jumpUpDown=function(a,b){var c=this;c.upDownCache[a.id]=B.copy(c);var d=c.upDownCache[b.id];if(d)d[z]?c.insLeftOf(d[z]):c.insAtRightEnd(d.parent);else{var e=c.offset().left;b.seek(e,c)}},a.offset=function(){var a=this,b=a.jQ.removeClass("mq-cursor").offset();return a.jQ.addClass("mq-cursor"),b},a.unwrapGramp=function(){var a=this.parent.parent,b=a.parent,c=a[z],d=this,e=a[y];if(a.disown().eachChild(function(d){d.isEmpty()||(d.children().adopt(b,e,c).each(function(b){b.jQ.insertBefore(a.jQ.first())}),e=d.ends[z])}),!this[z])if(this[y])this[z]=this[y][z];else for(;!this[z];){if(this.parent=this.parent[z],!this.parent){this[z]=a[z],this.parent=b;break}this[z]=this.parent.ends[y]}this[z]?this.insLeftOf(this[z]):this.insAtRightEnd(b),a.jQ.remove(),a[y].siblingDeleted&&a[y].siblingDeleted(d.options,z),a[z].siblingDeleted&&a[z].siblingDeleted(d.options,y)},a.startSelection=function(){for(var a=this.anticursor=B.copy(this),b=a.ancestors={},c=a;c.parent;c=c.parent)b[c.parent.id]=c},a.endSelection=function(){delete this.anticursor},a.select=function(){var a=this.anticursor;if(this[y]===a[y]&&this.parent===a.parent)return!1;for(var b=this;b.parent;b=b.parent)if(b.parent.id in a.ancestors){var c=b.parent;break}e("cursor and anticursor in the same tree",c);var d,f,g=a.ancestors[c.id],h=z;if(b[y]!==g)for(var i=b;i;i=i[z])if(i[z]===g[z]){h=y,d=b,f=g;break}return h===z&&(d=g,f=b),d instanceof B&&(d=d[z]),f instanceof B&&(f=f[y]),this.hide().selection=c.selectChildren(d,f),this.insDirOf(h,this.selection.ends[h]),this.selectionChanged(),!0},a.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},a.deleteSelection=function(){this.selection&&(this[y]=this.selection.ends[y][y],this[z]=this.selection.ends[z][z],this.selection.remove(),this.selectionChanged(),delete this.selection)},a.replaceSelection=function(){var a=this.selection;return a&&(this[y]=a.ends[y][y],this[z]=a.ends[z][z],delete this.selection),a}}),H=x(D,function(a,b){a.init=function(){b.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},a.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),b.adopt.apply(this,arguments)},a.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},a.join=function(a){return this.fold("",function(b,c){return b+c[a]()})}}),I=x(function(a){a.init=function(a,b,c){this.id=a.id,this.data={},this.root=a,this.container=b,this.options=c,a.controller=this,this.cursor=a.cursor=G(a,c)},a.handle=function(a,b){var c=this.options.handlers;if(c&&c.fns[a]){var d=c.APIClasses[this.KIND_OF_MQ](this);b===y||b===z?c.fns[a](b,d):c.fns[a](d)}};var b=[];this.onNotify=function(a){b.push(a)},a.notify=function(){for(var a=0;a<b.length;a+=1)b[a].apply(this.cursor,arguments);return this}}),J={},K=x(),L={},M=x(),N={};i.prototype=M.p,i.interfaceVersion=function(a){if(1!==a)throw"Only interface version 1 supported. You specified: "+a;return h=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')},h(),i},i.getInterface=j;var O=j.MIN=1,P=j.MAX=2;i.noConflict=function(){return window.MathQuill=Q,i};var Q=window.MathQuill;window.MathQuill=i;var R=x(function(a,b,c){function d(a,b){throw a=a?"'"+a+"'":"EOF","Parse Error: "+b+" at "+a}a.init=function(a){this._=a},a.parse=function(a){function b(a,b){return b}return this.skip(h)._(""+a,b,d)},a.or=function(a){e("or is passed a parser",a instanceof c);var b=this;return c(function(c,d,e){function f(b){return a._(c,d,e)}return b._(c,d,f)})},a.then=function(a){var b=this;return c(function(d,f,g){function h(b,d){var h=a instanceof c?a:a(d);return e("a parser is returned",h instanceof c),h._(b,f,g)}return b._(d,h,g)})},a.many=function(){var a=this;return c(function(b,c,d){function e(a,c){return b=a,g.push(c),!0}function f(){return!1}for(var g=[];a._(b,e,f););return c(b,g)})},a.times=function(a,b){arguments.length<2&&(b=a);var d=this;return c(function(c,e,f){function g(a,b){return k.push(b),c=a,!0}function h(a,b){return j=b,c=a,!1}function i(a,b){return!1}for(var j,k=[],l=!0,m=0;m<a;m+=1)if(l=d._(c,g,h),!l)return f(c,j);for(;m<b&&l;m+=1)l=d._(c,g,i);return e(c,k)})},a.result=function(a){return this.then(g(a))},a.atMost=function(a){return this.times(0,a)},a.atLeast=function(a){var b=this;return b.times(a).then(function(a){return b.many().map(function(b){return a.concat(b)})})},a.map=function(a){return this.then(function(b){return g(a(b))})},a.skip=function(a){return this.then(function(b){return a.result(b)})};var f=(this.string=function(a){var b=a.length,d="expected '"+a+"'";return c(function(c,e,f){var g=c.slice(0,b);return g===a?e(c.slice(b),g):f(c,d)})},this.regex=function(a){e("regexp parser is anchored","^"===a.toString().charAt(1));var b="expected "+a;return c(function(c,d,e){var f=a.exec(c);if(f){var g=f[0];return d(c.slice(g.length),g)}return e(c,b)})}),g=c.succeed=function(a){return c(function(b,c){return c(b,a)})},h=(c.fail=function(a){return c(function(b,c,d){return d(b,a)})},c.letter=f(/^[a-z]/i),c.letters=f(/^[a-z]*/i),c.digit=f(/^[0-9]/),c.digits=f(/^[0-9]*/),c.whitespace=f(/^\s+/),c.optWhitespace=f(/^\s*/),c.any=c(function(a,b,c){return a?b(a.slice(1),a.charAt(0)):c(a,"expected any character")}),c.all=c(function(a,b,c){return b("",a)}),c.eof=c(function(a,b,c){return a?c(a,"expected EOF"):b(a,a)}))}),S=function(){function b(a){var b,d=a.which||a.keyCode,e=c[d],f=[];return a.ctrlKey&&f.push("Ctrl"),a.originalEvent&&a.originalEvent.metaKey&&f.push("Meta"),a.altKey&&f.push("Alt"),a.shiftKey&&f.push("Shift"),b=e||String.fromCharCode(d),f.length||e?(f.push(b),f.join("-")):b}var c={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};return function(c,d){function e(a){u=a,clearTimeout(o),o=setTimeout(a)}function f(b){u(),u=a,clearTimeout(o),s.val(b),b&&s[0].select&&s[0].select(),v=!!b}function g(){var a=s[0];return"selectionStart"in a&&a.selectionStart!==a.selectionEnd}function h(){d.keystroke(b(p),p)}function i(b){p=b,r=null,v&&e(function(b){b&&"focusout"===b.type||!s[0].select||s[0].select(),u=a,clearTimeout(o)}),h()}function j(a){p&&r&&h(),r=a,e(k)}function k(){if(!g()){var a=s.val();1===a.length?(s.val(""),d.typedText(a)):a&&s[0].select&&s[0].select()}}function l(){p=r=null}function m(a){s.focus(),e(n)}function n(){var a=s.val();s.val(""),a&&d.paste(a)}var o,p=null,r=null,s=q(c),t=q(d.container||s),u=a;t.bind("keydown keypress input keyup focusout paste",function(a){u(a)});var v=!1;return t.bind({keydown:i,keypress:j,focusout:l,paste:m}),{select:f}}}();I.open(function(a,b){a.exportText=function(){return this.root.foldChildren("",function(a,b){return a+b.text()})}}),I.open(function(a){a.focusBlurEvents=function(){function a(){clearTimeout(c),f.selection&&f.selection.jQ.addClass("mq-blur"),b()}function b(){f.hide().parent.blur(),d.container.removeClass("mq-focused"),A(window).off("blur",a)}var c,d=this,e=d.root,f=d.cursor;d.textarea.focus(function(){d.blurred=!1,clearTimeout(c),d.container.addClass("mq-focused"),f.parent||f.insAtRightEnd(e),f.selection?(f.selection.jQ.removeClass("mq-blur"),d.selectionChanged()):f.show()}).blur(function(){d.blurred=!0,c=setTimeout(function(){e.postOrder("intentionalBlur"),f.clearSelection().endSelection(),b()}),A(window).on("blur",a)}),d.blurred=!0,f.hide().parent.blur()}}),I.open(function(a){a.keystroke=function(a,b){this.cursor.parent.keystroke(a,b,this)}}),C.open(function(a){a.keystroke=function(a,b,c){var d=c.cursor;switch(a){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":c.ctrlDeleteDir(y);break;case"Shift-Backspace":case"Backspace":c.backspace();break;case"Esc":case"Tab":return void c.escapeDir(z,a,b);case"Shift-Tab":case"Shift-Esc":return void c.escapeDir(y,a,b);case"End":c.notify("move").cursor.insAtRightEnd(d.parent);break;case"Ctrl-End":c.notify("move").cursor.insAtRightEnd(c.root);break;case"Shift-End":for(;d[z];)c.selectRight();break;case"Ctrl-Shift-End":for(;d[z]||d.parent!==c.root;)c.selectRight();break;case"Home":c.notify("move").cursor.insAtLeftEnd(d.parent);break;case"Ctrl-Home":c.notify("move").cursor.insAtLeftEnd(c.root);break;case"Shift-Home":for(;d[y];)c.selectLeft();break;case"Ctrl-Shift-Home":for(;d[y]||d.parent!==c.root;)c.selectLeft();break;case"Left":c.moveLeft();break;case"Shift-Left":c.selectLeft();break;case"Ctrl-Left":break;case"Right":c.moveRight();break;case"Shift-Right":c.selectRight();break;case"Ctrl-Right":break;case"Up":c.moveUp();break;case"Down":c.moveDown();break;case"Shift-Up":if(d[y])for(;d[y];)c.selectLeft();else c.selectLeft();case"Shift-Down":if(d[z])for(;d[z];)c.selectRight();else c.selectRight();case"Ctrl-Up":break;case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":c.ctrlDeleteDir(z);break;case"Shift-Del":case"Del":c.deleteForward();break;case"Meta-A":case"Ctrl-A":for(c.notify("move").cursor.insAtRightEnd(c.root);d[y];)c.selectLeft();break;default:return}b.preventDefault(),c.scrollHoriz()},a.moveOutOf=a.moveTowards=a.deleteOutOf=a.deleteTowards=a.unselectInto=a.selectOutOf=a.selectTowards=function(){e("overridden or never called on this node")}}),I.open(function(a){function b(a,b){var c=a.notify("upDown").cursor,d=b+"Into",e=b+"OutOf";return c[z][d]?c.insAtLeftEnd(c[z][d]):c[y][d]?c.insAtRightEnd(c[y][d]):c.parent.bubble(function(a){var b=a[e];if(b&&("function"==typeof b&&(b=a[e](c)),b instanceof C&&c.jumpUpDown(a,b),b!==!0))return!1}),a}this.onNotify(function(a){"move"!==a&&"upDown"!==a||this.show().clearSelection()}),a.escapeDir=function(a,b,c){f(a);var d=this.cursor;if(d.parent!==this.root&&c.preventDefault(),d.parent!==this.root)return d.parent.moveOutOf(a,d),this.notify("move")},L.leftRightIntoCmdGoes=function(a){if(a&&"up"!==a&&"down"!==a)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+a+'"';return a},a.moveDir=function(a){f(a);var b=this.cursor,c=b.options.leftRightIntoCmdGoes;return b.selection?b.insDirOf(a,b.selection.ends[a]):b[a]?b[a].moveTowards(a,b,c):b.parent.moveOutOf(a,b,c),this.notify("move")},a.moveLeft=function(){return this.moveDir(y)},a.moveRight=function(){return this.moveDir(z)},a.moveUp=function(){return b(this,"up")},a.moveDown=function(){return b(this,"down")},this.onNotify(function(a){"upDown"!==a&&(this.upDownCache={})}),this.onNotify(function(a){"edit"===a&&this.show().deleteSelection()}),a.deleteDir=function(a){f(a);var b=this.cursor,c=b.selection;return this.notify("edit"),c||(b[a]?b[a].deleteTowards(a,b):b.parent.deleteOutOf(a,b)),b[y].siblingDeleted&&b[y].siblingDeleted(b.options,z),b[z].siblingDeleted&&b[z].siblingDeleted(b.options,y),b.parent.bubble("reflow"),this},a.ctrlDeleteDir=function(a){f(a);var b=this.cursor;return!b[y]||b.selection?ctrlr.deleteDir():(this.notify("edit"),D(b.parent.ends[y],b[y]).remove(),b.insAtDirEnd(y,b.parent),b[y].siblingDeleted&&b[y].siblingDeleted(b.options,z),b[z].siblingDeleted&&b[z].siblingDeleted(b.options,y),b.parent.bubble("reflow"),this)},a.backspace=function(){return this.deleteDir(y)},a.deleteForward=function(){return this.deleteDir(z)},this.onNotify(function(a){"select"!==a&&this.endSelection()}),a.selectDir=function(a){var b=this.notify("select").cursor,c=b.selection;f(a),b.anticursor||b.startSelection();var d=b[a];d?c&&c.ends[a]===d&&b.anticursor[-a]!==d?d.unselectInto(a,b):d.selectTowards(a,b):b.parent.selectOutOf(a,b),b.clearSelection(),b.select()||b.show()},a.selectLeft=function(){return this.selectDir(y)},a.selectRight=function(){return this.selectDir(z)}});var T=function(){function a(a){var b=Z();return a.adopt(b,0,0),b}function b(a){for(var b=a[0]||Z(),c=1;c<a.length;c+=1)a[c].children().adopt(b,b.ends[z],0);return b}var c=R.string,d=R.regex,e=R.letter,f=R.any,g=R.optWhitespace,h=R.succeed,i=R.fail,j=e.map(function(a){return fa(a)}),k=d(/^[^${}\\_^]/).map(function(a){return X(a)}),l=d(/^[^\\a-eg-zA-Z]/).or(c("\\").then(d(/^[a-z]+/i).or(d(/^\s+/).result(" ")).or(f))).then(function(a){var b=E[a];return b?b(a).parser():i("unknown command: \\"+a)}),m=l.or(j).or(k),n=c("{").then(function(){return p}).skip(c("}")),o=g.then(n.or(m.map(a))),p=o.many().map(b).skip(g),q=c("[").then(o.then(function(a){return"]"!==a.join("latex")?h(a):i()}).many().map(b).skip(g)).skip(c("]")),r=p;return r.block=o,r.optBlock=q,r}();I.open(function(a,b){a.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},a.writeLatex=function(a){var b=this.notify("edit").cursor,c=R.all,d=R.eof,e=T.skip(d).or(c.result(!1)).parse(a);if(e&&!e.isEmpty()){e.children().adopt(b.parent,b[y],b[z]);var f=e.jQize();f.insertBefore(b.jQ),b[y]=e.ends[z],e.finalizeInsert(b.options,b),e.ends[z][z].siblingCreated&&e.ends[z][z].siblingCreated(b.options,y),e.ends[y][y].siblingCreated&&e.ends[y][y].siblingCreated(b.options,z),b.parent.bubble("reflow")}return this},a.renderLatexMath=function(a){var b=this.root,c=this.cursor,d=R.all,e=R.eof,f=T.skip(e).or(d.result(!1)).parse(a);b.eachChild("postOrder","dispose"),b.ends[y]=b.ends[z]=0,f&&f.children().adopt(b,0,0);var g=b.jQ;if(f){var h=f.join("html");g.html(h),b.jQize(g.children()),b.finalizeInsert(c.options)}else g.empty();delete c.selection,c.insAtRightEnd(b)},a.renderLatexText=function(a){var b=this.root,c=this.cursor;b.jQ.children().slice(1).remove(),b.eachChild("postOrder","dispose"),b.ends[y]=b.ends[z]=0,delete c.selection,c.show().insAtRightEnd(b);var d=R.regex,e=R.string,f=R.eof,g=R.all,h=e("$").then(T).skip(e("$").or(f)).map(function(a){var b=ba(c);b.createBlocks();var d=b.ends[y];return a.children().adopt(d,0,0),b}),i=e("\\$").result("$"),j=i.or(d(/^[^$]/)).map(X),k=h.or(j).many(),l=k.skip(f).or(g.result(!1)).parse(a);if(l){for(var m=0;m<l.length;m+=1)l[m].adopt(b,b.ends[z],0);b.jQize().appendTo(b.jQ),b.finalizeInsert(c.options)}}}),I.open(function(b){b.delegateMouseEvents=function(){var b=this.root.jQ;
this.container.bind("mousedown.mathquill",function(c){function d(a){g=A(a.target)}function e(a){k.anticursor||k.startSelection(),j.seek(g,a.pageX,a.pageY).cursor.select(),g=p}function f(a){k.blink=l,k.selection||(j.editable?k.show():m.detach()),h.unbind("mousemove",d),A(a.target.ownerDocument).unbind("mousemove",e).unbind("mouseup",f)}var g,h=A(c.target).closest(".mq-root-block"),i=C.byId[h.attr(s)||b.attr(s)],j=i.controller,k=j.cursor,l=k.blink,m=j.textareaSpan,n=j.textarea;j.blurred&&(j.editable||h.prepend(m),n.focus()),c.preventDefault(),c.target.unselectable=!0,k.blink=a,j.seek(A(c.target),c.pageX,c.pageY).cursor.startSelection(),h.mousemove(d),A(c.target.ownerDocument).mousemove(e).mouseup(f)})}}),I.open(function(a){a.seek=function(a,b,c){var d=this.notify("select").cursor;if(a){var f=a.attr(s)||a.attr(r);if(!f){var g=a.parent();f=g.attr(s)||g.attr(r)}}var h=f?C.byId[f]:this.root;return e("nodeId is the id of some Node that exists",h),d.clearSelection().show(),h.seek(b,d),this.scrollHoriz(),this}}),I.open(function(a){a.scrollHoriz=function(){var a=this.cursor,b=a.selection,c=this.root.jQ[0].getBoundingClientRect();if(b){var d=b.jQ[0].getBoundingClientRect(),e=d.left-(c.left+20),f=d.right-(c.right-20);if(b.ends[y]===a[z])if(e<0)var g=e;else{if(!(f>0))return;if(d.left-f<c.left+20)var g=e;else var g=f}else if(f>0)var g=f;else{if(!(e<0))return;if(d.right-e>c.right-20)var g=f;else var g=e}}else{var h=a.jQ[0].getBoundingClientRect().left;if(h>c.right-20)var g=h-(c.right-20);else{if(!(h<c.left+20))return;var g=h-(c.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+g},100)}}),I.open(function(a){K.p.substituteTextarea=function(){return A("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},a.createTextarea=function(){var a=this.textareaSpan=A('<span class="mq-textarea"></span>'),b=this.options.substituteTextarea();if(!b.nodeType)throw"substituteTextarea() must return a DOM element, got "+b;b=this.textarea=A(b).appendTo(a);var c=this;c.cursor.selectionChanged=function(){c.selectionChanged()},c.container.bind("copy",function(){c.setTextareaSelection()})},a.selectionChanged=function(){var a=this;ua(a.container[0]),a.textareaSelectionTimeout===p&&(a.textareaSelectionTimeout=setTimeout(function(){a.setTextareaSelection()}))},a.setTextareaSelection=function(){this.textareaSelectionTimeout=p;var a="";this.cursor.selection&&(a=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(a="$"+a+"$")),this.selectFn(a)},a.staticMathTextareaEvents=function(){function a(){e.detach(),b.blurred=!0}var b=this,c=(b.root,b.cursor),d=b.textarea,e=b.textareaSpan;this.container.prepend('<span class="mq-selectable">$'+b.exportLatex()+"$</span>"),b.blurred=!0,d.bind("cut paste",!1).focus(function(){b.blurred=!1}).blur(function(){c.selection&&c.selection.clear(),setTimeout(a)}),b.selectFn=function(a){d.val(a),a&&d.select()}},a.editablesTextareaEvents=function(){var a=this,b=(a.root,a.cursor),c=a.textarea,d=a.textareaSpan,e=S(c,this);this.selectFn=function(a){e.select(a)},this.container.prepend(d).on("cut",function(c){b.selection&&setTimeout(function(){a.notify("edit"),b.parent.bubble("reflow")})}),this.focusBlurEvents()},a.typedText=function(a){if("\n"===a)return this.handle("enter");var b=this.notify().cursor;b.parent.write(b,a),this.scrollHoriz()},a.paste=function(a){this.options.statelessClipboard&&(a="$"===a.slice(0,1)&&"$"===a.slice(-1)?a.slice(1,-1):"\\text{"+a+"}"),this.writeLatex(a).cursor.show()}});var U=x(C,function(a,b){a.finalizeInsert=function(a,b){var c=this;c.postOrder("finalizeTree",a),c.postOrder("contactWeld",b),c.postOrder("blur"),c.postOrder("reflow"),c[z].siblingCreated&&c[z].siblingCreated(a,y),c[y].siblingCreated&&c[y].siblingCreated(a,z),c.bubble("reflow")}}),V=x(U,function(a,b){a.init=function(a,c,d){var e=this;b.init.call(e),e.ctrlSeq||(e.ctrlSeq=a),c&&(e.htmlTemplate=c),d&&(e.textTemplate=d)},a.replaces=function(a){a.disown(),this.replacedFragment=a},a.isEmpty=function(){return this.foldChildren(!0,function(a,b){return a&&b.isEmpty()})},a.parser=function(){var a=T.block,b=this;return a.times(b.numBlocks()).map(function(a){b.blocks=a;for(var c=0;c<a.length;c+=1)a[c].adopt(b,b.ends[z],0);return b})},a.createLeftOf=function(a){var c=this,d=c.replacedFragment;c.createBlocks(),b.createLeftOf.call(c,a),d&&(d.adopt(c.ends[y],0,0),d.jQ.appendTo(c.ends[y].jQ)),c.finalizeInsert(a.options),c.placeCursor(a)},a.createBlocks=function(){for(var a=this,b=a.numBlocks(),c=a.blocks=Array(b),d=0;d<b;d+=1){var e=c[d]=Z();e.adopt(a,a.ends[z],0)}},a.placeCursor=function(a){a.insAtRightEnd(this.foldChildren(this.ends[y],function(a,b){return a.isEmpty()?a:b}))},a.moveTowards=function(a,b,c){var d=c&&this[c+"Into"];b.insAtDirEnd(-a,d||this.ends[-a])},a.deleteTowards=function(a,b){this.isEmpty()?b[a]=this.remove()[a]:this.moveTowards(a,b,null)},a.selectTowards=function(a,b){b[-a]=this,b[a]=this[a]},a.selectChildren=function(){return H(this,this)},a.unselectInto=function(a,b){b.insAtDirEnd(-a,b.anticursor.ancestors[this.id])},a.seek=function(a,b){function c(a){var b={};return b[y]=a.jQ.offset().left,b[z]=b[y]+a.jQ.outerWidth(),b}var d=this,e=c(d);if(a<e[y])return b.insLeftOf(d);if(a>e[z])return b.insRightOf(d);var f=e[y];d.eachChild(function(g){var h=c(g);return a<h[y]?(a-f<h[y]-a?g[y]?b.insAtRightEnd(g[y]):b.insLeftOf(d):b.insAtLeftEnd(g),!1):a>h[z]?void(g[z]?f=h[z]:e[z]-a<a-h[z]?b.insRightOf(d):b.insAtRightEnd(g)):(g.seek(a,b),!1)})},a.numBlocks=function(){var a=this.htmlTemplate.match(/&\d+/g);return a?a.length:0},a.html=function(){var a=this,b=a.blocks,c=" mathquill-command-id="+a.id,d=a.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);e("no unmatched angle brackets",d.join("")===this.htmlTemplate);for(var f=0,g=d[0];g;f+=1,g=d[f])if("/>"===g.slice(-2))d[f]=g.slice(0,-2)+c+"/>";else if("<"===g.charAt(0)){e("not an unmatched top-level close tag","/"!==g.charAt(1)),d[f]=g.slice(0,-1)+c+">";var h=1;do f+=1,g=d[f],e("no missing close tags",g),"</"===g.slice(0,2)?h-=1:"<"===g.charAt(0)&&"/>"!==g.slice(-2)&&(h+=1);while(h>0)}return d.join("").replace(/>&(\d+)/g,function(a,c){return" mathquill-block-id="+b[c].id+">"+b[c].join("html")})},a.latex=function(){return this.foldChildren(this.ctrlSeq,function(a,b){return a+"{"+(b.latex()||" ")+"}"})},a.textTemplate=[""],a.text=function(){var a=this,b=0;return a.foldChildren(a.textTemplate[b],function(c,d){b+=1;var e=d.text();return c&&"("===a.textTemplate[b]&&"("===e[0]&&")"===e.slice(-1)?c+e.slice(1,-1)+a.textTemplate[b]:c+d.text()+(a.textTemplate[b]||"")})}}),W=x(V,function(b,c){b.init=function(a,b,d){d||(d=a&&a.length>1?a.slice(1):a),c.init.call(this,a,b,[d])},b.parser=function(){return R.succeed(this)},b.numBlocks=function(){return 0},b.replaces=function(a){a.remove()},b.createBlocks=a,b.moveTowards=function(a,b){b.jQ.insDirOf(a,this.jQ),b[-a]=this,b[a]=this[a]},b.deleteTowards=function(a,b){b[a]=this.remove()[a]},b.seek=function(a,b){a-this.jQ.offset().left<this.jQ.outerWidth()/2?b.insLeftOf(this):b.insRightOf(this)},b.latex=function(){return this.ctrlSeq},b.text=function(){return this.textTemplate},b.placeCursor=a,b.isEmpty=function(){return!0}}),X=x(W,function(a,b){a.init=function(a,c){b.init.call(this,a,"<span>"+(c||a)+"</span>")}}),Y=x(W,function(a,b){a.init=function(a,c,d){b.init.call(this,a,'<span class="mq-binary-operator">'+c+"</span>",d)}}),Z=x(U,function(a,b){a.join=function(a){return this.foldChildren("",function(b,c){return b+c[a]()})},a.html=function(){return this.join("html")},a.latex=function(){return this.join("latex")},a.text=function(){return this.ends[y]===this.ends[z]&&0!==this.ends[y]?this.ends[y].text():this.join("text")},a.keystroke=function(a,c,d){return!d.options.spaceBehavesLikeTab||"Spacebar"!==a&&"Shift-Spacebar"!==a?b.keystroke.apply(this,arguments):(c.preventDefault(),void d.escapeDir("Shift-Spacebar"===a?y:z,a,c))},a.moveOutOf=function(a,b,c){var d=c&&this.parent[c+"Into"];!d&&this[a]?b.insAtDirEnd(-a,this[a]):b.insDirOf(a,this.parent)},a.selectOutOf=function(a,b){b.insDirOf(a,this.parent)},a.deleteOutOf=function(a,b){b.unwrapGramp()},a.seek=function(a,b){var c=this.ends[z];if(!c||c.jQ.offset().left+c.jQ.outerWidth()<a)return b.insAtRightEnd(this);if(a<this.ends[y].jQ.offset().left)return b.insAtLeftEnd(this);for(;a<c.jQ.offset().left;)c=c[y];return c.seek(a,b)},a.chToCmd=function(a){var b;return a.match(/^[a-eg-zA-Z]$/)?fa(a):/^\d$/.test(a)?da(a):(b=F[a]||E[a])?b(a):X(a)},a.write=function(a,b){var c=this.chToCmd(b);a.selection&&c.replaces(a.replaceSelection()),c.createLeftOf(a.show())},a.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},a.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}});J.StaticMath=function(a){return x(a.AbstractMathQuill,function(b,c){this.RootBlock=Z,b.__mathquillify=function(){return c.__mathquillify.call(this,"mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},b.init=function(){c.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],a.MathField)},b.latex=function(){var b=c.latex.apply(this,arguments);return arguments.length>0&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],a.MathField),b}})};var $=x(Z,k);J.MathField=function(b){return x(b.EditableField,function(b,c){this.RootBlock=$,b.__mathquillify=function(b,d){return this.config(b),d>1&&(this.__controller.root.reflow=a),c.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}})};var _=x(C,function(a,b){function c(a){a.jQ[0].normalize();var b=a.jQ[0].firstChild;e("only node in TextBlock span is Text node",3===b.nodeType);var c=aa(b.data);return c.jQadd(b),a.children().disown(),c.adopt(a,0,0)}a.ctrlSeq="\\text",a.replaces=function(a){a instanceof D?this.replacedText=a.remove().jQ.text():"string"==typeof a&&(this.replacedText=a)},a.jQadd=function(a){b.jQadd.call(this,a),this.ends[y]&&this.ends[y].jQadd(this.jQ[0].firstChild)},a.createLeftOf=function(a){var c=this;if(b.createLeftOf.call(this,a),c[z].siblingCreated&&c[z].siblingCreated(a.options,y),c[y].siblingCreated&&c[y].siblingCreated(a.options,z),c.bubble("reflow"),a.insAtRightEnd(c),c.replacedText)for(var d=0;d<c.replacedText.length;d+=1)c.write(a,c.replacedText.charAt(d))},a.parser=function(){var a=this,b=R.string,c=R.regex,d=R.optWhitespace;return d.then(b("{")).then(c(/^[^}]*/)).skip(b("}")).map(function(b){return aa(b).adopt(a,0,0),a})},a.textContents=function(){return this.foldChildren("",function(a,b){return a+b.text})},a.text=function(){return'"'+this.textContents()+'"'},a.latex=function(){return"\\text{"+this.textContents()+"}"},a.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},a.moveTowards=function(a,b){b.insAtDirEnd(-a,this)},a.moveOutOf=function(a,b){b.insDirOf(a,this)},a.unselectInto=a.moveTowards,a.selectTowards=V.prototype.selectTowards,a.deleteTowards=V.prototype.deleteTowards,a.selectOutOf=function(a,b){b.insDirOf(a,this)},a.deleteOutOf=function(a,b){this.isEmpty()&&b.insRightOf(this)},a.write=function(a,c){if(a.show().deleteSelection(),"$"!==c)a[y]?a[y].appendText(c):aa(c).createLeftOf(a);else if(this.isEmpty())a.insRightOf(this),X("\\$","$").createLeftOf(a);else if(a[z])if(a[y]){var d=_(),e=this.ends[y];e.disown(),e.adopt(d,0,0),a.insLeftOf(this),b.createLeftOf.call(d,a)}else a.insLeftOf(this);else a.insRightOf(this)},a.seek=function(a,b){b.hide();var d=c(this),e=this.jQ.width()/this.text.length,f=Math.round((a-this.jQ.offset().left)/e);f<=0?b.insAtLeftEnd(this):f>=d.text.length?b.insAtRightEnd(this):b.insLeftOf(d.splitRight(f));for(var g=a-b.show().offset().left,h=g&&g<0?y:z,i=h;b[h]&&g*i>0;)b[h].moveTowards(h,b),i=g,g=a-b.offset().left;if(h*g<-h*i&&b[-h].moveTowards(-h,b),b.anticursor){if(b.anticursor.parent===this){var j=b[y]&&b[y].text.length;if(this.anticursorPosition===j)b.anticursor=B.copy(b);else{if(this.anticursorPosition<j){var k=b[y].splitRight(this.anticursorPosition);b[y]=k}else var k=b[z].splitRight(this.anticursorPosition-j);b.anticursor=B(this,k[y],k)}}}else this.anticursorPosition=b[y]&&b[y].text.length},a.blur=function(){Z.prototype.blur.call(this),c(this)},a.focus=Z.prototype.focus}),aa=x(C,function(a,b){function c(a,b){return b.charAt(a===y?0:-1+b.length)}a.init=function(a){b.init.call(this),this.text=a},a.jQadd=function(a){this.dom=a,this.jQ=A(a)},a.jQize=function(){return this.jQadd(document.createTextNode(this.text))},a.appendText=function(a){this.text+=a,this.dom.appendData(a)},a.prependText=function(a){this.text=a+this.text,this.dom.insertData(0,a)},a.insTextAtDirEnd=function(a,b){f(b),b===z?this.appendText(a):this.prependText(a)},a.splitRight=function(a){var b=aa(this.text.slice(a)).adopt(this.parent,this,this[z]);return b.jQadd(this.dom.splitText(a)),this.text=this.text.slice(0,a),b},a.moveTowards=function(a,b){f(a);var d=c(-a,this.text),e=this[-a];return e?e.insTextAtDirEnd(d,a):aa(d).createDir(-a,b),this.deleteTowards(a,b)},a.latex=function(){return this.text},a.deleteTowards=function(a,b){this.text.length>1?a===z?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),b[a]=this[a])},a.selectTowards=function(a,b){f(a);var d=b.anticursor,e=c(-a,this.text);if(d[a]===this){var g=aa(e).createDir(a,b);d[a]=g,b.insDirOf(a,g)}else{var h=this[-a];if(h)h.insTextAtDirEnd(e,a);else{var g=aa(e).createDir(-a,b);g.jQ.insDirOf(-a,b.selection.jQ)}1===this.text.length&&d[-a]===this&&(d[-a]=this[-a])}return this.deleteTowards(a,b)}});F.$=E.text=E.textnormal=E.textrm=E.textup=E.textmd=_,E.em=E.italic=E.italics=E.emph=E.textit=E.textsl=l("\\textit","i",'class="mq-text-mode"'),E.strong=E.bold=E.textbf=l("\\textbf","b",'class="mq-text-mode"'),E.sf=E.textsf=l("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),E.tt=E.texttt=l("\\texttt","span",'class="mq-monospace mq-text-mode"'),E.textsc=l("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),E.uppercase=l("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),E.lowercase=l("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"');var ba=x(V,function(a,b){a.init=function(a){b.init.call(this,"$"),this.cursor=a},a.htmlTemplate='<span class="mq-math-mode">&0</span>',a.createBlocks=function(){b.createBlocks.call(this),this.ends[y].cursor=this.cursor,this.ends[y].write=function(a,b){"$"!==b?Z.prototype.write.call(this,a,b):this.isEmpty()?(a.insRightOf(this.parent),this.parent.deleteTowards(dir,a),X("\\$","$").createLeftOf(a.show())):a[z]?a[y]?Z.prototype.write.call(this,a,b):a.insLeftOf(this.parent):a.insRightOf(this.parent)}},a.latex=function(){return"$"+this.ends[y].latex()+"$"}}),ca=x($,function(a,b){a.keystroke=function(a){if("Spacebar"!==a&&"Shift-Spacebar"!==a)return b.keystroke.apply(this,arguments)},a.write=function(a,b){if(a.show().deleteSelection(),"$"===b)ba(a).createLeftOf(a);else{var c;"<"===b?c="&lt;":">"===b&&(c="&gt;"),X(b,c).createLeftOf(a)}}});J.TextField=function(a){return x(a.EditableField,function(a,b){this.RootBlock=ca,a.__mathquillify=function(){return b.__mathquillify.call(this,"mq-editable-field mq-text-mode")},a.latex=function(a){return arguments.length>0?(this.__controller.renderLatexText(a),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}})};F["\\"]=x(V,function(a,b){a.ctrlSeq="\\",a.replaces=function(a){this._replacedFragment=a.disown(),this.isEmpty=function(){return!1}},a.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',a.textTemplate=["\\"],a.createBlocks=function(){b.createBlocks.call(this),this.ends[y].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[y].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[y].write=function(a,b){a.show().deleteSelection(),b.match(/[a-z]/i)?X(b).createLeftOf(a):(this.parent.renderCommand(a),"\\"===b&&this.isEmpty()||this.parent.parent.write(a,b))},this.ends[y].keystroke=function(a,c,d){return"Tab"===a||"Enter"===a||"Spacebar"===a?(this.parent.renderCommand(d.cursor),void c.preventDefault()):b.keystroke.apply(this,arguments)}},a.createLeftOf=function(a){if(b.createLeftOf.call(this,a),this._replacedFragment){var c=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",function(a){return A(a.target=c).trigger(a),!1}).insertBefore(this.jQ).add(this.jQ)}},a.latex=function(){return"\\"+this.ends[y].latex()+" "},a.renderCommand=function(a){this.jQ=this.jQ.last(),this.remove(),this[z]?a.insLeftOf(this[z]):a.insAtRightEnd(this.parent);var b=this.ends[y].latex();b||(b=" ");var c=E[b];c?(c=c(b),this._replacedFragment&&c.replaces(this._replacedFragment),c.createLeftOf(a)):(c=_(),c.replaces(b),c.createLeftOf(a),a.insRightOf(c),this._replacedFragment&&this._replacedFragment.remove())}});E.notin=E.cong=E.equiv=E.oplus=E.otimes=x(Y,function(a,b){a.init=function(a){b.init.call(this,"\\"+a+" ","&"+a+";")}}),E["≠"]=E.ne=E.neq=d(Y,"\\ne ","&ne;"),E.ast=E.star=E.loast=E.lowast=d(Y,"\\ast ","&lowast;"),E.therefor=E.therefore=d(Y,"\\therefore ","&there4;"),E.cuz=E.because=d(Y,"\\because ","&#8757;"),E.prop=E.propto=d(Y,"\\propto ","&prop;"),E["≈"]=E.asymp=E.approx=d(Y,"\\approx ","&asymp;"),E.isin=E.in=d(Y,"\\in ","&isin;"),E.ni=E.contains=d(Y,"\\ni ","&ni;"),E.notni=E.niton=E.notcontains=E.doesnotcontain=d(Y,"\\not\\ni ","&#8716;"),E.sub=E.subset=d(Y,"\\subset ","&sub;"),E.sup=E.supset=E.superset=d(Y,"\\supset ","&sup;"),E.nsub=E.notsub=E.nsubset=E.notsubset=d(Y,"\\not\\subset ","&#8836;"),E.nsup=E.notsup=E.nsupset=E.notsupset=E.nsuperset=E.notsuperset=d(Y,"\\not\\supset ","&#8837;"),E.sube=E.subeq=E.subsete=E.subseteq=d(Y,"\\subseteq ","&sube;"),E.supe=E.supeq=E.supsete=E.supseteq=E.supersete=E.superseteq=d(Y,"\\supseteq ","&supe;"),E.nsube=E.nsubeq=E.notsube=E.notsubeq=E.nsubsete=E.nsubseteq=E.notsubsete=E.notsubseteq=d(Y,"\\not\\subseteq ","&#8840;"),E.nsupe=E.nsupeq=E.notsupe=E.notsupeq=E.nsupsete=E.nsupseteq=E.notsupsete=E.notsupseteq=E.nsupersete=E.nsuperseteq=E.notsupersete=E.notsuperseteq=d(Y,"\\not\\supseteq ","&#8841;"),E.N=E.naturals=E.Naturals=d(X,"\\mathbb{N}","&#8469;"),E.P=E.primes=E.Primes=E.projective=E.Projective=E.probability=E.Probability=d(X,"\\mathbb{P}","&#8473;"),E.Z=E.integers=E.Integers=d(X,"\\mathbb{Z}","&#8484;"),E.Q=E.rationals=E.Rationals=d(X,"\\mathbb{Q}","&#8474;"),E.R=E.reals=E.Reals=d(X,"\\mathbb{R}","&#8477;"),E.C=E.complex=E.Complex=E.complexes=E.Complexes=E.complexplane=E.Complexplane=E.ComplexPlane=d(X,"\\mathbb{C}","&#8450;"),E.H=E.Hamiltonian=E.quaternions=E.Quaternions=d(X,"\\mathbb{H}","&#8461;"),E.quad=E.emsp=d(X,"\\quad ","    "),E.qquad=d(X,"\\qquad ","        "),E.diamond=d(X,"\\diamond ","&#9671;"),E.bigtriangleup=d(X,"\\bigtriangleup ","&#9651;"),E.ominus=d(X,"\\ominus ","&#8854;"),E.uplus=d(X,"\\uplus ","&#8846;"),E.bigtriangledown=d(X,"\\bigtriangledown ","&#9661;"),E.sqcap=d(X,"\\sqcap ","&#8851;"),E.triangleleft=d(X,"\\triangleleft ","&#8882;"),E.sqcup=d(X,"\\sqcup ","&#8852;"),E.triangleright=d(X,"\\triangleright ","&#8883;"),E.odot=E.circledot=d(X,"\\odot ","&#8857;"),E.bigcirc=d(X,"\\bigcirc ","&#9711;"),E.dagger=d(X,"\\dagger ","&#0134;"),E.ddagger=d(X,"\\ddagger ","&#135;"),E.wr=d(X,"\\wr ","&#8768;"),E.amalg=d(X,"\\amalg ","&#8720;"),E.models=d(X,"\\models ","&#8872;"),E.prec=d(X,"\\prec ","&#8826;"),E.succ=d(X,"\\succ ","&#8827;"),E.preceq=d(X,"\\preceq ","&#8828;"),E.succeq=d(X,"\\succeq ","&#8829;"),E.simeq=d(X,"\\simeq ","&#8771;"),E.mid=d(X,"\\mid ","&#8739;"),E.ll=d(X,"\\ll ","&#8810;"),E.gg=d(X,"\\gg ","&#8811;"),E.parallel=d(X,"\\parallel ","&#8741;"),E.nparallel=d(X,"\\nparallel ","&#8742;"),E.bowtie=d(X,"\\bowtie ","&#8904;"),E.sqsubset=d(X,"\\sqsubset ","&#8847;"),E.sqsupset=d(X,"\\sqsupset ","&#8848;"),E.smile=d(X,"\\smile ","&#8995;"),E.sqsubseteq=d(X,"\\sqsubseteq ","&#8849;"),E.sqsupseteq=d(X,"\\sqsupseteq ","&#8850;"),E.doteq=d(X,"\\doteq ","&#8784;"),E.frown=d(X,"\\frown ","&#8994;"),E.vdash=d(X,"\\vdash ","&#8870;"),E.dashv=d(X,"\\dashv ","&#8867;"),E.nless=d(X,"\\nless ","&#8814;"),E.ngtr=d(X,"\\ngtr ","&#8815;"),E.longleftarrow=d(X,"\\longleftarrow ","&#8592;"),E.longrightarrow=d(X,"\\longrightarrow ","&#8594;"),E.Longleftarrow=d(X,"\\Longleftarrow ","&#8656;"),E.Longrightarrow=d(X,"\\Longrightarrow ","&#8658;"),E.longleftrightarrow=d(X,"\\longleftrightarrow ","&#8596;"),E.updownarrow=d(X,"\\updownarrow ","&#8597;"),E.Longleftrightarrow=d(X,"\\Longleftrightarrow ","&#8660;"),E.Updownarrow=d(X,"\\Updownarrow ","&#8661;"),E.mapsto=d(X,"\\mapsto ","&#8614;"),E.nearrow=d(X,"\\nearrow ","&#8599;"),E.hookleftarrow=d(X,"\\hookleftarrow ","&#8617;"),E.hookrightarrow=d(X,"\\hookrightarrow ","&#8618;"),E.searrow=d(X,"\\searrow ","&#8600;"),E.leftharpoonup=d(X,"\\leftharpoonup ","&#8636;"),E.rightharpoonup=d(X,"\\rightharpoonup ","&#8640;"),E.swarrow=d(X,"\\swarrow ","&#8601;"),E.leftharpoondown=d(X,"\\leftharpoondown ","&#8637;"),E.rightharpoondown=d(X,"\\rightharpoondown ","&#8641;"),E.nwarrow=d(X,"\\nwarrow ","&#8598;"),E.ldots=d(X,"\\ldots ","&#8230;"),E.cdots=d(X,"\\cdots ","&#8943;"),E.vdots=d(X,"\\vdots ","&#8942;"),E.ddots=d(X,"\\ddots ","&#8945;"),E.surd=d(X,"\\surd ","&#8730;"),E.triangle=d(X,"\\triangle ","&#9651;"),E.ell=d(X,"\\ell ","&#8467;"),E.top=d(X,"\\top ","&#8868;"),E.flat=d(X,"\\flat ","&#9837;"),E.natural=d(X,"\\natural ","&#9838;"),E.sharp=d(X,"\\sharp ","&#9839;"),E.wp=d(X,"\\wp ","&#8472;"),E.bot=d(X,"\\bot ","&#8869;"),E.clubsuit=d(X,"\\clubsuit ","&#9827;"),E.diamondsuit=d(X,"\\diamondsuit ","&#9826;"),E.heartsuit=d(X,"\\heartsuit ","&#9825;"),E.spadesuit=d(X,"\\spadesuit ","&#9824;"),E.parallelogram=d(X,"\\parallelogram ","&#9649;"),E.square=d(X,"\\square ","&#11036;"),E.oint=d(X,"\\oint ","&#8750;"),E.bigcap=d(X,"\\bigcap ","&#8745;"),E.bigcup=d(X,"\\bigcup ","&#8746;"),E.bigsqcup=d(X,"\\bigsqcup ","&#8852;"),E.bigvee=d(X,"\\bigvee ","&#8744;"),E.bigwedge=d(X,"\\bigwedge ","&#8743;"),E.bigodot=d(X,"\\bigodot ","&#8857;"),E.bigotimes=d(X,"\\bigotimes ","&#8855;"),E.bigoplus=d(X,"\\bigoplus ","&#8853;"),E.biguplus=d(X,"\\biguplus ","&#8846;"),E.lfloor=d(X,"\\lfloor ","&#8970;"),E.rfloor=d(X,"\\rfloor ","&#8971;"),E.lceil=d(X,"\\lceil ","&#8968;"),E.rceil=d(X,"\\rceil ","&#8969;"),E.opencurlybrace=E.lbrace=d(X,"\\lbrace ","{"),E.closecurlybrace=E.rbrace=d(X,"\\rbrace ","}"),E.lbrack=d(X,"["),E.rbrack=d(X,"]"),E["∫"]=E.int=E.integral=d(W,"\\int ","<big>&int;</big>"),E.slash=d(X,"/"),E.vert=d(X,"|"),E.perp=E.perpendicular=d(X,"\\perp ","&perp;"),E.nabla=E.del=d(X,"\\nabla ","&nabla;"),E.hbar=d(X,"\\hbar ","&#8463;"),E.AA=E.Angstrom=E.angstrom=d(X,"\\text\\AA ","&#8491;"),E.ring=E.circ=E.circle=d(X,"\\circ ","&#8728;"),E.bull=E.bullet=d(X,"\\bullet ","&bull;"),E.setminus=E.smallsetminus=d(X,"\\setminus ","&#8726;"),E.not=E["¬"]=E.neg=d(X,"\\neg ","&not;"),E["…"]=E.dots=E.ellip=E.hellip=E.ellipsis=E.hellipsis=d(X,"\\dots ","&hellip;"),E.converges=E.darr=E.dnarr=E.dnarrow=E.downarrow=d(X,"\\downarrow ","&darr;"),E.dArr=E.dnArr=E.dnArrow=E.Downarrow=d(X,"\\Downarrow ","&dArr;"),E.diverges=E.uarr=E.uparrow=d(X,"\\uparrow ","&uarr;"),E.uArr=E.Uparrow=d(X,"\\Uparrow ","&uArr;"),E.to=d(Y,"\\to ","&rarr;"),E.rarr=E.rightarrow=d(X,"\\rightarrow ","&rarr;"),E.implies=d(Y,"\\Rightarrow ","&rArr;"),E.rArr=E.Rightarrow=d(X,"\\Rightarrow ","&rArr;"),E.gets=d(Y,"\\gets ","&larr;"),E.larr=E.leftarrow=d(X,"\\leftarrow ","&larr;"),E.impliedby=d(Y,"\\Leftarrow ","&lArr;"),E.lArr=E.Leftarrow=d(X,"\\Leftarrow ","&lArr;"),E.harr=E.lrarr=E.leftrightarrow=d(X,"\\leftrightarrow ","&harr;"),E.iff=d(Y,"\\Leftrightarrow ","&hArr;"),E.hArr=E.lrArr=E.Leftrightarrow=d(X,"\\Leftrightarrow ","&hArr;"),E.Re=E.Real=E.real=d(X,"\\Re ","&real;"),E.Im=E.imag=E.image=E.imagin=E.imaginary=E.Imaginary=d(X,"\\Im ","&image;"),E.part=E.partial=d(X,"\\partial ","&part;"),E.infty=E.infin=E.infinity=d(X,"\\infty ","&infin;"),E.alef=E.alefsym=E.aleph=E.alephsym=d(X,"\\aleph ","&alefsym;"),E.xist=E.xists=E.exist=E.exists=d(X,"\\exists ","&exist;"),E.and=E.land=E.wedge=d(X,"\\wedge ","&and;"),E.or=E.lor=E.vee=d(X,"\\vee ","&or;"),E.o=E.O=E.empty=E.emptyset=E.oslash=E.Oslash=E.nothing=E.varnothing=d(Y,"\\varnothing ","&empty;"),E.cup=E.union=d(Y,"\\cup ","&cup;"),E.cap=E.intersect=E.intersection=d(Y,"\\cap ","&cap;"),E.deg=E.degree=d(X,"\\degree ","&deg;"),E.ang=E.angle=d(X,"\\angle ","&ang;"),E.measuredangle=d(X,"\\measuredangle ","&#8737;");var da=x(X,function(a,b){a.createLeftOf=function(a){a.options.autoSubscriptNumerals&&a.parent!==a.parent.parent.sub&&(a[y]instanceof ea&&a[y].isItalic!==!1||a[y]instanceof Aa&&a[y][y]instanceof ea&&a[y][y].isItalic!==!1)?(E._().createLeftOf(a),b.createLeftOf.call(this,a),a.insRightOf(a.parent.parent)):b.createLeftOf.call(this,a)}}),ea=x(W,function(a,b){a.init=function(a,c){b.init.call(this,a,"<var>"+(c||a)+"</var>")},a.text=function(){var a=this.ctrlSeq;return!this[y]||this[y]instanceof ea||this[y]instanceof Y||"\\ "===this[y].ctrlSeq||(a="*"+a),!this[z]||this[z]instanceof Y||this[z]instanceof Aa||(a+="*"),a}});K.p.autoCommands={_maxLength:0},L.autoCommands=function(a){if(!/^[a-z]+(?: [a-z]+)*$/i.test(a))throw'"'+a+'" not a space-delimited list of only letters';for(var b=a.split(" "),c={},d=0,e=0;e<b.length;e+=1){var f=b[e];if(f.length<2)throw'autocommand "'+f+'" not minimum length of 2';if(E[f]===ja)throw'"'+f+'" is a built-in operator name';c[f]=1,d=u(d,f.length)}return c._maxLength=d,c};var fa=x(ea,function(a,b){function c(a){return a instanceof W&&!(a instanceof Y)}a.init=function(a){return b.init.call(this,this.letter=a)},a.createLeftOf=function(a){var c=a.options.autoCommands,d=c._maxLength;if(d>0){for(var e=this.letter,f=a[y],g=1;f instanceof fa&&g<d;)e=f.letter+e,f=f[y],g+=1;for(;e.length;){if(c.hasOwnProperty(e)){for(var g=2,f=a[y];g<e.length;g+=1,f=f[y]);return D(f,a[y]).remove(),a[y]=f[y],E[e](e).createLeftOf(a)}e=e.slice(1)}}b.createLeftOf.apply(this,arguments)},a.italicize=function(a){return this.isItalic=a,this.jQ.toggleClass("mq-operator-name",!a),this},a.finalizeTree=a.siblingDeleted=a.siblingCreated=function(a,b){b!==y&&this[z]instanceof fa||this.autoUnItalicize(a)},a.autoUnItalicize=function(a){var b=a.autoOperatorNames;if(0!==b._maxLength){for(var d=this.letter,e=this[y];e instanceof fa;e=e[y])d=e.letter+d;for(var f=this[z];f instanceof fa;f=f[z])d+=f.letter;D(e[z]||this.parent.ends[y],f[y]||this.parent.ends[z]).each(function(a){a.italicize(!0).jQ.removeClass("mq-first mq-last"),a.ctrlSeq=a.letter});a:for(var g=0,h=e[z]||this.parent.ends[y];g<d.length;g+=1,h=h[z])for(var i=t(b._maxLength,d.length-g);i>0;i-=1){var j=d.slice(g,g+i);if(b.hasOwnProperty(j)){for(var k=0,l=h;k<i;k+=1,l=l[z]){l.italicize(!1);var m=l}var n=ga.hasOwnProperty(j);h.ctrlSeq=(n?"\\":"\\operatorname{")+h.ctrlSeq,m.ctrlSeq+=n?" ":"}",ia.hasOwnProperty(j)&&m[y][y][y].jQ.addClass("mq-last"),c(h[y])&&h.jQ.addClass("mq-first"),c(m[z])&&m.jQ.addClass("mq-last"),g+=i-1,h=m;continue a}}}}}),ga={},ha=K.p.autoOperatorNames={_maxLength:9},ia={limsup:1,liminf:1,projlim:1,injlim:1};!function(){for(var a="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),b=0;b<a.length;b+=1)ga[a[b]]=ha[a[b]]=1;for(var c="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "),b=0;b<c.length;b+=1)ga[c[b]]=1;for(var d="sin cos tan sec cosec csc cotan cot ctg".split(" "),b=0;b<d.length;b+=1)ha[d[b]]=ha["arc"+d[b]]=ha[d[b]+"h"]=ha["ar"+d[b]+"h"]=ha["arc"+d[b]+"h"]=1;for(var e="gcf hcf lcm proj span".split(" "),b=0;b<e.length;b+=1)ha[e[b]]=1}(),L.autoOperatorNames=function(a){if(!/^[a-z]+(?: [a-z]+)*$/i.test(a))throw'"'+a+'" not a space-delimited list of only letters';for(var b=a.split(" "),c={},d=0,e=0;e<b.length;e+=1){var f=b[e];if(f.length<2)throw'"'+f+'" not minimum length of 2';c[f]=1,d=u(d,f.length)}return c._maxLength=d,c};var ja=x(W,function(a,b){a.init=function(a){this.ctrlSeq=a},a.createLeftOf=function(a){for(var b=this.ctrlSeq,c=0;c<b.length;c+=1)fa(b.charAt(c)).createLeftOf(a)},a.parser=function(){for(var a=this.ctrlSeq,b=Z(),c=0;c<a.length;c+=1)fa(a.charAt(c)).adopt(b,b.ends[z],0);return R.succeed(b.children())}});for(var ka in ha)ha.hasOwnProperty(ka)&&(E[ka]=ja);E.operatorname=x(V,function(b){b.createLeftOf=a,b.numBlocks=function(){return 1},b.parser=function(){return T.block.map(function(a){return a.children()})}}),E.f=x(fa,function(a,b){a.init=function(){W.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},a.italicize=function(a){return this.jQ.html("f").toggleClass("mq-f",a),b.italicize.apply(this,arguments)}}),E[" "]=E.space=d(X,"\\ ","&nbsp;"),E["'"]=E.prime=d(X,"'","&prime;"),E.backslash=d(X,"\\backslash ","\\"),F["\\"]||(F["\\"]=E.backslash),E.$=d(X,"\\$","$");var la=x(W,function(a,b){a.init=function(a,c){b.init.call(this,a,'<span class="mq-nonSymbola">'+(c||a)+"</span>")}});E["@"]=la,E["&"]=d(la,"\\&","&amp;"),E["%"]=d(la,"\\%","%"),E.alpha=E.beta=E.gamma=E.delta=E.zeta=E.eta=E.theta=E.iota=E.kappa=E.mu=E.nu=E.xi=E.rho=E.sigma=E.tau=E.chi=E.psi=E.omega=x(ea,function(a,b){a.init=function(a){b.init.call(this,"\\"+a+" ","&"+a+";")}}),E.phi=d(ea,"\\phi ","&#981;"),E.phiv=E.varphi=d(ea,"\\varphi ","&phi;"),E.epsilon=d(ea,"\\epsilon ","&#1013;"),E.epsiv=E.varepsilon=d(ea,"\\varepsilon ","&epsilon;"),E.piv=E.varpi=d(ea,"\\varpi ","&piv;"),E.sigmaf=E.sigmav=E.varsigma=d(ea,"\\varsigma ","&sigmaf;"),E.thetav=E.vartheta=E.thetasym=d(ea,"\\vartheta ","&thetasym;"),E.upsilon=E.upsi=d(ea,"\\upsilon ","&upsilon;"),E.gammad=E.Gammad=E.digamma=d(ea,"\\digamma ","&#989;"),E.kappav=E.varkappa=d(ea,"\\varkappa ","&#1008;"),E.rhov=E.varrho=d(ea,"\\varrho ","&#1009;"),E.pi=E["π"]=d(la,"\\pi ","&pi;"),E.lambda=d(la,"\\lambda ","&lambda;"),E.Upsilon=E.Upsi=E.upsih=E.Upsih=d(W,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),E.Gamma=E.Delta=E.Theta=E.Lambda=E.Xi=E.Pi=E.Sigma=E.Phi=E.Psi=E.Omega=E.forall=x(X,function(a,b){a.init=function(a){b.init.call(this,"\\"+a+" ","&"+a+";")}});var ma=x(V,function(a){a.init=function(a){this.latex=a},a.createLeftOf=function(a){var b=T.parse(this.latex);b.children().adopt(a.parent,a[y],a[z]),a[y]=b.ends[z],b.jQize().insertBefore(a.jQ),b.finalizeInsert(a.options,a),b.ends[z][z].siblingCreated&&b.ends[z][z].siblingCreated(a.options,y),b.ends[y][y].siblingCreated&&b.ends[y][y].siblingCreated(a.options,z),a.parent.bubble("reflow")},a.parser=function(){var a=T.parse(this.latex).children();return R.succeed(a)}});E["¹"]=d(ma,"^1"),E["²"]=d(ma,"^2"),E["³"]=d(ma,"^3"),E["¼"]=d(ma,"\\frac14"),E["½"]=d(ma,"\\frac12"),E["¾"]=d(ma,"\\frac34");var na=x(Y,function(a){a.init=X.prototype.init,a.contactWeld=a.siblingCreated=a.siblingDeleted=function(a,b){if(b!==z)return this.jQ[0].className=!this[y]||this[y]instanceof Y?"":"mq-binary-operator",this}});E["+"]=d(na,"+","+"),E["–"]=E["-"]=d(na,"-","&minus;"),E["±"]=E.pm=E.plusmn=E.plusminus=d(na,"\\pm ","&plusmn;"),E.mp=E.mnplus=E.minusplus=d(na,"\\mp ","&#8723;"),F["*"]=E.sdot=E.cdot=d(Y,"\\cdot ","&middot;","*");var oa=x(Y,function(a,b){a.init=function(a,c){this.data=a,this.strict=c;var d=c?"Strict":"";b.init.call(this,a["ctrlSeq"+d],a["html"+d],a["text"+d])},a.swap=function(a){this.strict=a;var b=a?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+b],this.jQ.html(this.data["html"+b]),this.textTemplate=[this.data["text"+b]]},a.deleteTowards=function(a,c){return a!==y||this.strict?void b.deleteTowards.apply(this,arguments):(this.swap(!0),void this.bubble("reflow"))}}),pa={ctrlSeq:"\\le ",html:"&le;",text:"≤",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},qa={ctrlSeq:"\\ge ",html:"&ge;",text:"≥",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};E["<"]=E.lt=d(oa,pa,!0),E[">"]=E.gt=d(oa,qa,!0),E["≤"]=E.le=E.leq=d(oa,pa,!1),
E["≥"]=E.ge=E.geq=d(oa,qa,!1);var ra=x(Y,function(a,b){a.init=function(){b.init.call(this,"=","=")},a.createLeftOf=function(a){return a[y]instanceof oa&&a[y].strict?(a[y].swap(!1),void a[y].bubble("reflow")):void b.createLeftOf.apply(this,arguments)}});E["="]=ra,E["×"]=E.times=d(Y,"\\times ","&times;","[x]"),E["÷"]=E.div=E.divide=E.divides=d(Y,"\\div ","&divide;","[/]"),F["~"]=E.sim=d(Y,"\\sim ","~","~");var sa,ta,ua=a,va=document.createElement("div"),wa=va.style,xa={transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1};for(var ya in xa)if(ya in wa){ta=ya;break}ta?sa=function(a,b,c){a.css(ta,"scale("+b+","+c+")")}:"filter"in wa?(ua=function(a){a.className=a.className},sa=function(a,b,c){function d(){a.css("marginRight",(e.width()-1)*(b-1)/b+"px")}b/=1+(c-1)/2,a.css("fontSize",c+"em"),a.hasClass("mq-matrixed-container")||a.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>');var e=a.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+b+",SizingMethod='auto expand')");d();var f=setInterval(d);A(window).load(function(){clearTimeout(f),d()})}):sa=function(a,b,c){a.css("fontSize",c+"em")};var za=x(V,function(a,b){a.init=function(a,c,d){b.init.call(this,a,"<"+c+" "+d+">&0</"+c+">")}});E.mathrm=d(za,"\\mathrm","span",'class="mq-roman mq-font"'),E.mathit=d(za,"\\mathit","i",'class="mq-font"'),E.mathbf=d(za,"\\mathbf","b",'class="mq-font"'),E.mathsf=d(za,"\\mathsf","span",'class="mq-sans-serif mq-font"'),E.mathtt=d(za,"\\mathtt","span",'class="mq-monospace mq-font"'),E.underline=d(za,"\\underline","span",'class="mq-non-leaf mq-underline"'),E.overline=E.bar=d(za,"\\overline","span",'class="mq-non-leaf mq-overline"'),E.overrightarrow=d(za,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),E.overleftarrow=d(za,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"');var Aa=(E.textcolor=x(V,function(a,b){a.setColor=function(a){this.color=a,this.htmlTemplate='<span class="mq-textcolor" style="color:'+a+'">&0</span>'},a.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},a.parser=function(){var a=this,c=R.optWhitespace,d=R.string,e=R.regex;return c.then(d("{")).then(e(/^[#\w\s.,()%-]*/)).skip(d("}")).then(function(c){return a.setColor(c),b.parser.call(a)})}}),E.class=x(V,function(a,b){a.parser=function(){var a=this,c=R.string,d=R.regex;return R.optWhitespace.then(c("{")).then(d(/^[-\w\s\\\xA0-\xFF]*/)).skip(c("}")).then(function(c){return a.htmlTemplate='<span class="mq-class '+c+'">&0</span>',b.parser.call(a)})}}),x(V,function(a,b){a.ctrlSeq="_{...}^{...}",a.createLeftOf=function(a){if(a[y]||!a.options.supSubsRequireOperand)return b.createLeftOf.apply(this,arguments)},a.contactWeld=function(a){for(var b=y;b;b=b===y&&z)if(this[b]instanceof Aa){for(var c="sub";c;c="sub"===c&&"sup"){var d=this[c],e=this[b][c];if(d){if(e)if(d.isEmpty())var f=B(e,0,e.ends[y]);else{d.jQ.children().insAtDirEnd(-b,e.jQ);var g=d.children().disown(),f=B(e,g.ends[z],e.ends[y]);b===y?g.adopt(e,e.ends[z],0):g.adopt(e,0,e.ends[y])}else this[b].addBlock(d.disown());this.placeCursor=function(a,c){return function(d){d.insAtDirEnd(-b,a||c)}}(e,d)}}this.remove(),a&&a[y]===this&&(b===z&&f?f[y]?a.insRightOf(f[y]):a.insAtLeftEnd(f.parent):a.insRightOf(this[b]));break}this.respace()},K.p.charsThatBreakOutOfSupSub="",a.finalizeTree=function(){this.ends[y].write=function(a,b){if(a.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===b)return;var c=this.chToCmd(b);return c instanceof W?a.deleteSelection():a.clearSelection().insRightOf(this.parent),c.createLeftOf(a.show())}a[y]&&!a[z]&&!a.selection&&a.options.charsThatBreakOutOfSupSub.indexOf(b)>-1&&a.insRightOf(this.parent),Z.p.write.apply(this,arguments)}},a.moveTowards=function(a,c,d){c.options.autoSubscriptNumerals&&!this.sup?c.insDirOf(a,this):b.moveTowards.apply(this,arguments)},a.deleteTowards=function(a,c){if(c.options.autoSubscriptNumerals&&this.sub){var d=this.sub.ends[-a];d instanceof W?d.remove():d&&d.deleteTowards(a,c.insAtDirEnd(-a,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(y,c.insAtLeftEnd(this.sub)),this.sup&&c.insDirOf(-a,this))}else b.deleteTowards.apply(this,arguments)},a.latex=function(){function a(a,b){var c=b&&b.latex();return b?a+(1===c.length?c:"{"+(c||" ")+"}"):""}return a("_",this.sub)+a("^",this.sup)},a.respace=a.siblingCreated=a.siblingDeleted=function(a,b){b!==z&&this.jQ.toggleClass("mq-limit","\\int "===this[y].ctrlSeq)},a.addBlock=function(a){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=a,a.adopt(this,this.sub,0).downOutOf=this.sub,a.jQ=A('<span class="mq-sup"/>').append(a.jQ.children()).attr(s,a.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=a,a.adopt(this,0,this.sup).upOutOf=this.sup,a.jQ=A('<span class="mq-sub"></span>').append(a.jQ.children()).attr(s,a.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var b=0;b<2;b+=1)(function(a,b,c,d){a[b].deleteOutOf=function(e,f){if(f.insDirOf(this[e]?-e:e,this.parent),!this.isEmpty()){var g=this.ends[e];this.children().disown().withDirAdopt(e,f.parent,f[e],f[-e]).jQ.insDirOf(-e,f.jQ),f[-e]=g}a.supsub=c,delete a[b],delete a[d+"Into"],a[c][d+"OutOf"]=m,delete a[c].deleteOutOf,"sub"===b&&A(a.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}})(this,"sub sup".split(" ")[b],"sup sub".split(" ")[b],"down up".split(" ")[b])}}));E.subscript=E._=x(Aa,function(a,b){a.supsub="sub",a.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',a.textTemplate=["_"],a.finalizeTree=function(){this.downInto=this.sub=this.ends[y],this.sub.upOutOf=m,b.finalizeTree.call(this)}}),E.superscript=E.supscript=E["^"]=x(Aa,function(a,b){a.supsub="sup",a.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',a.textTemplate=["^"],a.finalizeTree=function(){this.upInto=this.sup=this.ends[z],this.sup.downOutOf=m,b.finalizeTree.call(this)}});var Ba=x(V,function(a,b){a.init=function(a,b){var c='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+b+'</big><span class="mq-from"><span>&0</span></span></span>';W.prototype.init.call(this,a,c)},a.createLeftOf=function(a){b.createLeftOf.apply(this,arguments),a.options.sumStartsWithNEquals&&(fa("n").createLeftOf(a),ra().createLeftOf(a))},a.latex=function(){function a(a){return 1===a.length?a:"{"+(a||" ")+"}"}return this.ctrlSeq+"_"+a(this.ends[y].latex())+"^"+a(this.ends[z].latex())},a.parser=function(){for(var a=R.string,b=R.optWhitespace,c=R.succeed,d=T.block,e=this,f=e.blocks=[Z(),Z()],g=0;g<f.length;g+=1)f[g].adopt(e,e.ends[z],0);return b.then(a("_").or(a("^"))).then(function(a){var b=f["_"===a?0:1];return d.then(function(a){return a.children().adopt(b,b.ends[z],0),c(e)})}).many().result(e)},a.finalizeTree=function(){this.downInto=this.ends[y],this.upInto=this.ends[z],this.ends[y].upOutOf=this.ends[z],this.ends[z].downOutOf=this.ends[y]}});E["∑"]=E.sum=E.summation=d(Ba,"\\sum ","&sum;"),E["∏"]=E.prod=E.product=d(Ba,"\\prod ","&prod;"),E.coprod=E.coproduct=d(Ba,"\\coprod ","&#8720;");var Ca=E.frac=E.dfrac=E.cfrac=E.fraction=x(V,function(a,b){a.ctrlSeq="\\frac",a.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',a.textTemplate=["(",")/(",")"],a.finalizeTree=function(){this.upInto=this.ends[z].upOutOf=this.ends[y],this.downInto=this.ends[y].downOutOf=this.ends[z]}}),Da=E.over=F["/"]=x(Ca,function(b,c){b.createLeftOf=function(b){if(!this.replacedFragment){for(var d=b[y];d&&!(d instanceof Y||d instanceof(E.text||a)||d instanceof Ba||"\\ "===d.ctrlSeq||/^[,;:]$/.test(d.ctrlSeq));)d=d[y];d instanceof Ba&&d[z]instanceof Aa&&(d=d[z],d[z]instanceof Aa&&d[z].ctrlSeq!=d.ctrlSeq&&(d=d[z])),d!==b[y]&&(this.replaces(D(d[z]||b.parent.ends[y],b[y])),b[y]=d)}c.createLeftOf.call(this,b)}}),Ea=E.sqrt=E["√"]=x(V,function(a,b){a.ctrlSeq="\\sqrt",a.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',a.textTemplate=["sqrt(",")"],a.parser=function(){return T.optBlock.then(function(a){return T.block.map(function(b){var c=Fa();return c.blocks=[a,b],a.adopt(c,0,0),b.adopt(c,a,0),c})}).or(b.parser.call(this))},a.reflow=function(){var a=this.ends[z].jQ;sa(a.prev(),1,a.innerHeight()/+a.css("fontSize").slice(0,-2)-.1)}}),Fa=(E.vec=x(V,function(a,b){a.ctrlSeq="\\vec",a.htmlTemplate='<span class="mq-non-leaf"><span class="mq-vector-prefix">&rarr;</span><span class="mq-vector-stem">&0</span></span>',a.textTemplate=["vec(",")"]}),E.nthroot=x(Ea,function(a,b){a.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',a.textTemplate=["sqrt[","](",")"],a.latex=function(){return"\\sqrt["+this.ends[y].latex()+"]{"+this.ends[z].latex()+"}"}})),Ga=x(x(V,n),function(b,c){b.init=function(a,b,d,e,f){c.init.call(this,"\\left"+e,p,[b,d]),this.side=a,this.sides={},this.sides[y]={ch:b,ctrlSeq:e},this.sides[z]={ch:d,ctrlSeq:f}},b.numBlocks=function(){return 1},b.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(this.side===z?" mq-ghost":"")+'">'+this.sides[y].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===y?" mq-ghost":"")+'">'+this.sides[z].ch+"</span></span>",c.html.call(this)},b.latex=function(){return"\\left"+this.sides[y].ctrlSeq+this.ends[y].latex()+"\\right"+this.sides[z].ctrlSeq},b.oppBrack=function(a,b,c){return b instanceof Ga&&b.side&&b.side!==-c&&("|"===this.sides[this.side].ch||b.side===-this.side)&&(!a.restrictMismatchedBrackets||Ha[this.sides[this.side].ch]===b.sides[b.side].ch||{"(":"]","[":")"}[this.sides[y].ch]===b.sides[z].ch)&&b},b.closeOpposing=function(a){a.side=0,a.sides[this.side]=this.sides[this.side],a.delimjQs.eq(this.side===y?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},b.createLeftOf=function(a){if(!this.replacedFragment)var b=a.options,d=this.oppBrack(b,a[y],y)||this.oppBrack(b,a[z],z)||this.oppBrack(b,a.parent.parent);if(d){var e=this.side=-d.side;this.closeOpposing(d),d===a.parent.parent&&a[e]&&(D(a[e],a.parent.ends[e],-e).disown().withDirAdopt(-e,d.parent,d,d[e]).jQ.insDirOf(e,d.jQ),d.bubble("reflow"))}else d=this,e=d.side,d.replacedFragment?d.side=0:a[-e]&&(d.replaces(D(a[-e],a.parent.ends[-e],e)),a[-e]=0),c.createLeftOf.call(d,a);e===y?a.insAtLeftEnd(d.ends[y]):a.insRightOf(d)},b.placeCursor=a,b.unwrap=function(){this.ends[y].children().disown().adopt(this.parent,this,this[z]).jQ.insertAfter(this.jQ),this.remove()},b.deleteSide=function(a,b,c){var d=this.parent,e=this[a],f=d.ends[a];if(a===this.side)return this.unwrap(),void(e?c.insDirOf(-a,e):c.insAtDirEnd(a,d));var g=c.options,h=!this.side;if(this.side=-a,this.oppBrack(g,this.ends[y].ends[this.side],a)){this.closeOpposing(this.ends[y].ends[this.side]);var i=this.ends[y].ends[a];this.unwrap(),i.siblingCreated&&i.siblingCreated(c.options,a),e?c.insDirOf(-a,e):c.insAtDirEnd(a,d)}else{if(this.oppBrack(g,this.parent.parent,a))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(b&&h)return this.unwrap(),void(e?c.insDirOf(-a,e):c.insAtDirEnd(a,d));this.sides[a]={ch:Ha[this.sides[this.side].ch],ctrlSeq:Ha[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(a===y?0:1).addClass("mq-ghost").html(this.sides[a].ch)}if(e){var i=this.ends[y].ends[a];D(e,f,-a).disown().withDirAdopt(-a,this.ends[y],i,0).jQ.insAtDirEnd(a,this.ends[y].jQ.removeClass("mq-empty")),i.siblingCreated&&i.siblingCreated(c.options,a),c.insDirOf(-a,e)}else b?c.insDirOf(a,this):c.insAtDirEnd(a,this.ends[y])}},b.deleteTowards=function(a,b){this.deleteSide(-a,!1,b)},b.finalizeTree=function(){this.ends[y].deleteOutOf=function(a,b){this.parent.deleteSide(a,!0,b)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===y?1:0).removeClass("mq-ghost"),this.side=0}},b.siblingCreated=function(a,b){b===-this.side&&this.finalizeTree()}}),Ha={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|"};o("("),o("["),o("{","\\{"),E.langle=d(Ga,y,"&lang;","&rang;","\\langle ","\\rangle "),E.rangle=d(Ga,z,"&lang;","&rang;","\\langle ","\\rangle "),F["|"]=d(Ga,y,"|","|","|","|"),E.left=x(V,function(a){a.parser=function(){var a=R.regex,b=R.string,c=(R.succeed,R.optWhitespace);return c.then(a(/^(?:[([|]|\\\{)/)).then(function(d){var e="\\"===d.charAt(0)?d.slice(1):d;return T.then(function(f){return b("\\right").skip(c).then(a(/^(?:[\])|]|\\\})/)).map(function(a){var b="\\"===a.charAt(0)?a.slice(1):a,c=Ga(0,e,b,d,a);return c.blocks=[f],f.adopt(c,0,0),c})})})}}),E.right=x(V,function(a){a.parser=function(){return R.fail("unmatched \\right")}});var Ia=E.binom=E.binomial=x(x(V,n),function(a,b){a.ctrlSeq="\\binom",a.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',a.textTemplate=["choose(",",",")"]});E.choose=x(Ia,function(a){a.createLeftOf=Da.prototype.createLeftOf});E.editable=E.MathQuillMathField=x(V,function(a,b){a.ctrlSeq="\\MathQuillMathField",a.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',a.parser=function(){var a=this,c=R.string,d=R.regex,e=R.succeed;return c("[").then(d(/^[a-z][a-z0-9]*/i)).skip(c("]")).map(function(b){a.name=b}).or(e()).then(b.parser.call(a))},a.finalizeTree=function(){var a=I(this.ends[y],this.jQ,K());a.KIND_OF_MQ="MathField",a.editable=!0,a.createTextarea(),a.editablesTextareaEvents(),a.cursor.insAtRightEnd(a.root),k(a.root)},a.registerInnerField=function(a,b){a.push(a[this.name]=b(this.ends[y].controller))},a.latex=function(){return this.ends[y].latex()},a.text=function(){return this.ends[y].text()}});var Ja=E.embed=x(W,function(a,b){a.setOptions=function(a){function b(){return""}return this.text=a.text||b,this.htmlTemplate=a.htmlString||"",this.latex=a.latex||b,this},a.parser=function(){var a=this;return string=R.string,regex=R.regex,succeed=R.succeed,string("{").then(regex(/^[a-z][a-z0-9]*/i)).skip(string("}")).then(function(b){return string("[").then(regex(/^[-\w\s]*/)).skip(string("]")).or(succeed()).map(function(c){return a.setOptions(N[b](c))})})}}),Ka=j(1);for(var La in Ka)(function(a,b){"function"==typeof b?(i[a]=function(){return h(),b.apply(this,arguments)},i[a].prototype=b.prototype):i[a]=b})(La,Ka[La])}(),angular.module("academiaApp",["ngCookies","ngResource","ngRoute","ngSanitize","ngMaterial","chart.js","hc.marked","angAccordion"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"register"}).when("/dashboard",{templateUrl:"views/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard"}).when("/recover-password",{templateUrl:"views/recover-password.html",controller:"RecoverPasswordCtrl",controllerAs:"recover-password"}).when("/email_verification",{templateUrl:"views/email_verification.html",controller:"EmailVerificationCtrl",controllerAs:"emailVerification"}).when("/topic/:topic",{templateUrl:"views/topic.html",controller:"TopicCtrl",controllerAs:"topic"}).when("/exercises/:id",{templateUrl:"views/exercises.html",controller:"ExercisesCtrl",controllerAs:"exercises"}).when("/notes/:id",{templateUrl:"views/notes.html",controller:"NotesCtrl",controllerAs:"notes"}).when("/profile",{templateUrl:"views/profile.html",controller:"ProfileCtrl",controllerAs:"profile"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl",controllerAs:"admin"}).when("/recovery",{templateUrl:"views/recovery.html",controller:"RecoveryCtrl",controllerAs:"recovery"}).otherwise({redirectTo:"/"})}]).config(["ChartJsProvider",function(a){a.setOptions({colours:["#1e2a35","#d74b4b"],responsive:!0})}]),angular.module("academiaApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("academiaApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("academiaApp").controller("LoginCtrl",["$scope","api","$location","user",function(a,b,c,d){a.form={large:!0},a.doLogin=function(e){a.loading||(a.loading=!0,a.error=!1,b.$http.get("/default/login",e).then(function(b){b&&b.data&&b.data.success?(a.isLogIn=!0,d.setToken(b.data.token,!e.large),c.path("/dashboard")):(a.loading=!1,a.error=!0,a.form={})}))},a.isLogIn=d.getToken(),a.$watch(function(){return d.getToken()},function(b){a.isLogIn=b}),a.logOut=function(){d.clear(),a.isLogIn=!1,c.path("/login")}}]),angular.module("academiaApp").controller("RegisterCtrl",["$scope","api",function(a,b){a.form={},a.doRegister=function(c,d){if(!a.loading){if(c.password!==d)return void(a.passwordError=!0);a.passwordError=!1,a.loading=!0,b.$http.post("/default/register",c).then(function(b){if(b&&b.data){if(b.data.errors&&Object.keys(b.data.errors).length)return a.loading=!1,void(a.errors=b.data.errors);a.msg=!0}})}},this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("academiaApp").controller("RecoverPasswordCtrl",["$scope","api",function(a,b){a.recovery=function(c){console.log("email",c),a.loading=!0,b.$http.post("/default/recovery",{email:c}).then(function(b){a.success=!0})},this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("academiaApp").controller("DashboardCtrl",["$scope","api","user",function(a,b,c){function d(a){var b=a.map(function(a){return a.radarLabels=a.topics.map(function(a){return a.name}),a.radarData=[a.topics.map(function(a){return a.score})],a});return b}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.showNoSolve=!0,b.$http.get("/units",{user:c.getToken(),curse:1}).then(function(b){b.data&&(a.units=d(b.data))}),b.$http.get("/exercises/history",{user:c.getToken()}).then(function(b){b.data&&(a.history=b.data.exercises)})}]),angular.module("academiaApp").service("api",["$http","$httpParamSerializerJQLike","$q","$location","user","$mdDialog",function(a,b,c,d,e,f){function g(a,b,d){return d=d||{data:{success:!0}},c.resolve(d)}function h(){var a=f.alert({title:"Error",textContent:"Ocurrio un error en la conexión",ok:"Aceptar"});f.show(a)}var i=this,j="https://ec2-52-91-69-242.compute-1.amazonaws.com/test5/";i.$http=function(b){return b.url=j+b.url,a(b).then(function(a){return a.data&&"noLogin"===a.data.error?(e.clear(),d.path("/login"),c.reject()):a}).catch(function(){h()})},i.$http.post=function(a,b){var c={method:"POST",url:a,data:b};return i.$http(c)},i.$http.postFile=function(a,b){var c={method:"POST",url:a,data:b,transformRequest:angular.identity,headers:{"Content-Type":void 0}};return i.$http(c)},i.$http.get=function(a,b){var c={method:"GET",url:a,params:b};return i.$http(c)},i.serialize=function(a){return a.url=j+a.url,a.data=a.data||{},"get"===a.method&&(a.url+="?",Object.keys(a.data).forEach(function(b){if("answers"===b){var c=a.data[b].map(function(a){return"answers="+a});a.url+="&"+c.join("&")}else a.url+="&"+b+"="+a.data[b]})),a},i.$http.fakePost=g,i.$http.fakeGet=g}]),angular.module("academiaApp").service("user",function(){var a=this,b=localStorage.loginToken||sessionStorage.loginToken;a.setToken=function(a,c){var d=localStorage;c&&(d=sessionStorage),d.setItem("loginToken",a),b=a},a.getToken=function(){return b},a.clear=function(){localStorage.clear(),sessionStorage.clear()},a.preferences=function(a){var b={freeEx:!0};if(localStorage.preferences&&(b=JSON.parse(localStorage.preferences)),a){var c=angular.merge(b,a);localStorage.setItem("preferences",JSON.stringify(c))}return c||b}}),angular.module("academiaApp").controller("EmailVerificationCtrl",["$scope","$location","$timeout","api",function(a,b,c,d){var e=b.search();return e.token?(d.$http.get("/default/email_verification",e).then(function(d){a.done=!0,d&&d.data&&d.data.success?(a.success=!0,c(function(){b.path("/login")},1600)):a.error=!0}),void(this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"])):b.path("/")}]),angular.module("academiaApp").controller("TopicCtrl",["$scope","$location","$routeParams","api","user",function(a,b,c,d,e){var f=["No tenemos ejercicios de esta dificultad","Debes resolver tus ejercicios pendientes para generar nuevos ejercicios"];return c.topic?(d.$http.get("/units/topic",{user:e.getToken(),topic:c.topic}).then(function(b){b.data&&(a.topic=b.data,a.topic.examples.map(function(b,c){""===b&&(a.topic.examples[c]="Sin ejercicios."),a.mathJaxify(b)}))}),a.getEx=function(g){a.loading||d.$http.get("/exercises/getex",{user:e.getToken(),topic:c.topic,dif:g}).then(function(a){return a.data&&a.data.id>=0?b.path("/exercises/"+a.data.id).search({topic:c.topic,dif:g}):void showAlert(f[a.data.errorCode],!1)})},a.mathJaxify=function(a){MathJax.Hub.Queue(["Typeset",MathJax.Hub,a])},void(this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"])):b.path("/dashboard")}]),angular.module("academiaApp").controller("ExercisesCtrl",["$scope","$location","$routeParams","$timeout","api","user",function(a,b,c,d,e,f){function g(){e.$http.get("/exercises/exercise",{user:k,ex:c.id}).then(function(b){b.data&&(a.ex=b.data,a.ex.startLatex&&(console.log("start",a.ex.startLatex),a.cacheLatex=0==a.ex.steps.length?a.ex.startLatex:a.ex.steps[a.ex.steps.length-1].latex,i(a.userPreferences.freeEx?"":a.cacheLatex)),a.mathJaxify(b.data.question),a.ex.steps=(a.ex.steps||[]).map(function(a){return 0!==a.latex.indexOf("$$")&&(a.latex="$$"+a.latex+"$$"),a}),a.mathJaxify(b.data.question),j())})}function h(b){b&&a.ex&&a.ex.choices&&(a.correctAnwsers=a.ex.choices.map(function(a,c){if(b.indexOf(c)!==-1)return!0}))}function i(a){d(function(){var b=MathQuill.getInterface(2),c=b.MathField($(".mq-editable-field")[0]);console.log(c),c.clearSelection(),c.latex(a).focus()})}function j(){return a.ex.closed?(a.showNext=!0,a.showVerify=!1,a.ex.ok?a.success=!0:a.failed=!0,1===a.ex.type?(a.answer={radio:a.ex.selectedAnswers[0]},a.correctAnwsers={radio:a.ex.answers[0]}):2===a.ex.type&&(a.correctAnwsers=a.ex.answers,h(a.ex.answers),a.answer=a.ex.choices.map(function(b,c){if(a.ex.selectedAnswers.indexOf(c)!==-1)return!0})),void(a.otherRes=!0)):(a.showNext=!1,void(a.showVerify=!0))}if(!c.id)return b.path("/dashboard");a.answer={},a.showVerify=!0,a.markAnswer=!0;var k=f.getToken();a.userPreferences=f.preferences(),console.log(a.userPreferences),a.errors=["Paso incorrecto","Algo esta mal escrito, intenta de nuevo","El paso es el mismo que el anterior"],a.buttonLatex=function(a){var b=MathQuill.getInterface(2),c=b.MathField($(".mq-editable-field")[0]);d(function(){c.cmd(a).focus()})},a.mathJaxify=function(a){MathJax.Hub.Queue(["Typeset",MathJax.Hub,a])},a.verify=function(b,d){void 0!==d&&(a.last=d),console.log("last",a.last),3===a.ex.type&&(a.last=!0),a.errorCode=null;var f=a.latex&&a.latex.trim()||!1;if(a.checkOne(b)||a.latex){a.loading=!0,a.showVerify=!1,a.correctAnwsers=[];var i=Object.keys(b).map(function(c){return 1===a.ex.type?parseInt(b[c]):2===a.ex.type&&b[c]?parseInt(c):void 0}).filter(function(a){return isFinite(a)}),j="/exercises/",l={user:k,ex:c.id},m={};3===a.ex.type||4===a.ex.type?(m.step=f,m.last=a.last?1:0,l.curse=1,j+="evalstep"):(j+="eval",m.answers=i),e.$http.post(j+"?curse=1&user="+l.user+"&ex="+l.ex,m).then(function(b){if(console.log("par",m,b),a.loading=!1,a.showNext=!0,b.data&&b.data.success){if(a.ex.topic=a.ex.topic||{},a.ex.topic.score=b.data.topicScore,4===a.ex.type||3===a.ex.type)return void g();a.success=!0,a.correctAnwsers=b.data.answers,h(b.data.answers)}else{if(b.data&&4===a.ex.type&&(a.showError=!0,a.errorCode=b.data.errorCode*-1,!b.data.closed))return a.showNext=!1,void(a.showVerify=!0);h(b.data&&b.data.answers),a.selectedAnswers=i,a.failed=!0,1===a.ex.type&&(a.correctAnwsers={radio:b.data.answers[0]})}})}},a.checkOne=function(b){return a.markAnswer=!Object.keys(b).filter(function(a){return b[a]}).length,!a.markAnswer};var l={topic:c.topic,dif:c.dif};a.nextExercise=function(){return c&&isFinite(c.topic)&&isFinite(c.dif)?void e.$http.get("/exercises/getex",{user:f.getToken(),topic:c.topic,dif:c.dif}).then(function(a){a.data&&a.data.id>=0?b.path("/exercises/"+a.data.id).search(l):alert("No se encontraron ejercicios")}):b.path("/")},g(),a.setPreference=function(b){var c={freeEx:b};f.preferences(c),a.userPreferences=c,i(!b&&a.cacheLatex?a.cacheLatex:""),console.log("sta",a.ex.startLatex,a.cacheLatex)},this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),MathJax.Hub.Config({skipStartupTypeset:!0,messageStyle:"none","HTML-CSS":{showMathMenu:!1},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],processEscapes:!0}}),MathJax.Hub.Configured(),angular.module("academiaApp").directive("mathjax",function(){return function(a,b,c,d){a.$watch(c.mathjax,function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,b[0]])})}}),angular.module("academiaApp").directive("mathquill",["$timeout",function(a){return{template:'<span id="math-field" style="font-size: 16px;"></span>',restrict:"E",scope:{model:"=",defaultValue:"="},link:function(b,c,d){var e=MathQuill.getInterface(2),f=e.MathField(c[0],{spaceBehavesLikeTab:!0,handlers:{edit:function(){b.model=f.latex(),b.$apply()}}});a(function(){"undefined"!=typeof b.defaultValue&&b.defaultValue.length&&(f.latex(b.defaultValue.replace(/\$/g,"")),b.model=f.latex())})}}}]),angular.module("academiaApp").directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.fileModel),f=e.assign;c.bind("change",function(){b.$apply(function(){f(b,c[0].files[0])})})}}}]),angular.module("academiaApp").controller("NotesCtrl",["$scope","$routeParams","$location","api","user",function(a,b,c,d,e){function f(a){MathJax.Hub.Queue(["Typeset",MathJax.Hub,a.content])}if(this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],!b.id)return c.path("/dashboard");var g=e.getToken();d.$http.get("/notes/",{user:g,note:b.id}).then(function(b){b.data?(f(b.data),a.note=b.data,f(b.data)):a.note={title:"Sin título",content:"# Sin contenido #"}})}]),angular.module("academiaApp").controller("ProfileCtrl",["$scope","api","user",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];var d=c.getToken();b.$http.get("/account/profile",{user:d}).then(function(b){b.data&&(a.profile=b.data,a.form={idCareer:b.data.idCareer})}),b.$http.get("/account/careers").then(function(b){b.data&&(a.careers=b.data.careers)}),a.updateCareer=function(a){b.$http.post("/account/updatecareer",{user:d,idCareer:a.idCareer}).then(function(a){showAlert("Dato actualizado",!0)})}}]),angular.module("academiaApp").controller("AdminCtrl",["$scope","api","user","$http","$route",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.form={};var f;a.topicClick=function(a){f=a,$("#loadFileModal").modal()},a.loadFile=function(a){var d=new FormData;d.append("file",a.file),d.append("user",c.getToken()),d.append("idTopic",f),d.append("notes",a.notes),b.$http.postFile("/admin/loadfile",d).then(function(a){a.data&&a.data.success?showAlert("Archivo cargado con éxito",!0):showAlert("Error: "+a.data.error,!1)})},b.$http.get("/admin/units",{user:c.getToken(),curse:1}).then(function(b){b.data&&(a.units=b.data)}),b.$http.get("/admin/loads",{user:c.getToken(),curse:1}).then(function(b){b.data&&(a.loads=b.data)})}]),angular.module("academiaApp").controller("RecoveryCtrl",["$scope","$location","api",function(a,b,c){var d=b.search();return d.token?(a.submit=function(b){return a.showError=!1,b.password!==a.repeatPassword?void(a.showError="Contraseñas distintas"):(a.loading=!0,b.token=d.token,void c.$http.post("/default/updatepass",b).then(function(b){b&&b.data&&b.data.success?a.success=!0:a.failed=!0}))},void(this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"])):b.path("/")}]),angular.module("academiaApp").run(["$templateCache",function(a){"use strict";a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/admin.html",'<div id="admin" class="row"> <div class="col-sm-7 col-md-8"> <div ng-repeat="unit in units" class="portlet portlet-boxed"> <div class="portlet-header"> <h4 class="portlet-title"> {{unit.name}} </h4> </div> <!-- /.portlet-header --> <div class="portlet-body topics-progress"> <table class="table keyvalue-table"> <thead> <tr> <th rowspan="2">Tema</th> <th colspan="2">Simples</th> <th colspan="2">Intermedios</th> <th colspan="2">Avanzados</th> <th rowspan="2">Total</th> <th rowspan="2">Cargar</th> </tr> <tr> <th>O.M.</th> <th>P.A.P</th> <th>O.M.</th> <th>P.A.P</th> <th>O.M.</th> <th>P.A.P</th> </tr> </thead> <tbody> <tr ng-repeat="topic in unit.topics"> <td class="topicName kv-key"> {{topic.name}}</td> <td class="kv-value">{{topic.exercises[0].options}}</td> <td class="kv-value">{{topic.exercises[0].stepByStep}}</td> <td class="kv-value">{{topic.exercises[1].options}}</td> <td class="kv-value">{{topic.exercises[1].stepByStep}}</td> <td class="kv-value">{{topic.exercises[2].options}}</td> <td class="kv-value">{{topic.exercises[2].stepByStep}}</td> <td class="kv-value">{{topic.totalExs}}</td> <td class="kv-value"> <button type="button" ng-click="topicClick(topic.id)" class="btn btn-success"><i class="fa fa-plus"></i></button> </td> </tr> </tbody> </table> </div> </div> </div> <div class="col-sm-5 col-md-4"> <div class="portlet portlet-boxed"> <div class="portlet-header"> <h4 class="portlet-title"> Cargas recientes </h4> </div> <div class="portlet-body"> <ul class="icons-list text-md"> <li ng-repeat="load in loads" style="padding: 0; cursor: pointer"> <a href=""> <i class="icon-li fa fa-check-square text-secondary"></i> <strong class="semibold">{{load.unitName}} > {{load.topicName}}</strong> <p>Ejercicios cargados: {{load.exs}}</p> </a> </li> </ul> </div> </div> </div> </div> <div id="loadFileModal" class="modal fade"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" style="padding:5px 10px"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> <h4 class="modal-title">Cargar archivo de ejercicios</h4> </div> <div class="modal-body"> <form ng-submit="loadFile(form)"> <div class="form-group"> <label>Archivo</label> <input type="file" file-model="form.file" accept=".json"> </div> <div class="form-group"> <label>Notas</label> <textarea class="form-control" ng-model="form.notes"></textarea> </div> <button type="submit" class="btn btn-sm btn-primary">Enviar</button> </form> </div> </div> </div> </div>'),a.put("views/dashboard.html",'<div id="dashboard" class="row"> <div class="col-sm-7 col-md-8"> <h2>Unidades</h2> <div ng-repeat="unit in units" class="portlet portlet-boxed"> <div class="portlet-header"> <h4 class="portlet-title"> {{unit.name}} </h4> </div> <!-- /.portlet-header --> <div class="portlet-body topics-progress"> <div class="row"> <div class="col-sm-4"> <div class="progress-stat"> <div class="progress-stat-label"><h6>TEMA</h6></div> <div class="progress-stat-value"><h6>PUNTOS</h6></div> </div> <br> <br> <div class="progress-stat" ng-repeat="topic in unit.topics"> <div class="progress-stat-label"><a href="#/topic/{{topic.id}}">{{topic.name}}</a></div> <div class="progress-stat-value">{{topic.score}}</div> <div class="progress progress-striped progress-sm active"> <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="{{topic.score}}" aria-valuemin="0" aria-valuemax="100" style="width: {{topic.score}}%"> <span class="sr-only"></span> </div> </div> </div> </div> <div class="col-sm-8 text-center"> <h4>Progreso en la unidad</h4> <canvas id="radar" class="chart chart-radar" chart-data="unit.radarData" chart-labels="unit.radarLabels"></canvas> </div> </div> </div> </div> </div> <div class="col-sm-5 col-md-4"> <div class="portlet portlet-boxed"> <div class="portlet-header"> <h4 class="portlet-title"> Ejercicios Recientes </h4> </div> <div class="portlet-body"> <div class="btn-group btn-group-justified"> <div class="btn-group"> <button type="button" class="btn btn-secondary" ng-class="{\'active\':showNoSolve}" ng-click="showNoSolve = true;showHistory = false">Sin resolver</button> </div> <div class="btn-group"> <button type="button" class="btn btn-secondary" ng-class="{\'active\':showHistory}" ng-click="showNoSolve = false;showHistory = true">Historial</button> </div> </div> <br> <ul class="icons-list text-md" ng-show="showNoSolve"> <li ng-repeat="exercise in history" ng-show="!exercise.closed" style="padding: 0; cursor: pointer"> <a href="#/exercises/{{exercise.id}}"> <i class="icon-li fa fa-check-square text-secondary"></i> <strong class="semibold">{{exercise.topicName}} | {{exercise.unitName}}</strong> <p> Completado: <span ng-show="exercise.closed">Sí</span><span ng-show="!exercise.closed">No</span> <br> Puntos: {{exercise.score}} </p> </a> </li> </ul> <ul class="icons-list text-md" ng-show="showHistory"> <li ng-repeat="exercise in history" style="padding: 0; cursor: pointer"> <a href="#/exercises/{{exercise.id}}"> <i class="icon-li fa fa-check-square text-secondary"></i> <strong class="semibold">{{exercise.topicName}} | {{exercise.unitName}}</strong> <p> Completado: <span ng-show="exercise.closed">Sí</span><span ng-show="!exercise.closed">No</span> <br> Puntos: {{exercise.score}} </p> </a> </li> </ul> </div> <!-- /.portlet-body --> </div> <!-- /.portlet --> </div> <!-- /.col --> </div> <!-- /.row -->'),
a.put("views/email_verification.html",'<br class="xs-80"> <div class="account-wrapper"> <div class="account-body"> <h3>Plataforma de matemáticas</h3> <h2>UNICARIBE</h2> <h5 ng-show="!done">Verificando...</h5> <h6 ng-show="success">Correcto</h6> <div layout="row" layout-align="center center" ng-show="!done"> <md-progress-circular md-mode="indeterminate" md-diameter="120px"></md-progress-circular> </div> </div> <!-- /.account-body --> </div> <!-- /.account-wrapper -->'),a.put("views/exercises.html",'<div class="page-header" layout="row" layout-align="space-between center"> <h3 class="page-title">{{ex.topic.unitName}} / <a href="#/topic/{{ex.topic.id}}">{{ex.topic.name}}</a> </h3> <h3>{{ex.topic.score}} pts</h3> </div> <hr> <div class="row"> <form ng-submit="verify(answer)" class="col-lg-8 col-lg-push-2"> <div class="portlet portlet-boxed"> <div class="portlet-body"> <div class="text-right"> <span class="badge badge-dang">{{ex.points}} pts</span><br> </div> <br> <div class="well"> <div marked="ex.question" mathjax></div> </div> <div ng-if="ex.type == 1"> <div ng-repeat="c in ex.choices track by $index"> <label ng-class="[\'btn btn-sm btn-block btn-default text-left\', {\'bg-success\': showNext && $index == answer.radio || $index == correctAnwsers.radio}, {\'bg-danger\': showNext && failed && $index == answer.radio}]"> <input name="answer" ng-model="answer.radio" type="radio" value="{{$index}}" class="pull-left" required> {{c}} </label> <br> </div> <button type="submit" class="btn btn-success center-block" ng-show="showVerify">REVISAR</button> </div> <div ng-if="ex.type == 2"> <div ng-repeat="c in ex.choices track by $index"> <!--\n              ng-class="[\'btn btn-sm btn-block btn-default text-left\', {\'bg-success\': showNext && correctAnwsers[$index]}, {\'bg-danger\': showNext && failed && !correctAnwsers[$index] }]"\n            --> <label ng-class="[\'btn btn-sm btn-block btn-default text-left\',\n                {\n\n                  \'bg-danger\': showNext && failed && ((correctAnwsers[$index] && !answer[$index]) || !correctAnwsers[$index] && answer[$index] )\n\n                }\n              ]"> <input id="answer_{{$index}}" ng-model="answer[$index]" type="checkbox" value="{{$index}}" class="pull-left" ng-required="answer.algo.lol" ng-change="checkOne(answer)"> {{c}} </label> <br> </div> <button type="submit" ng-disabled="markAnswer" class="btn btn-success center-block" ng-show="showVerify">REVISAR</button> </div> <div ng-if="ex.type == 4 || ex.type == 3" class="row"> <div class="col-xs-9 text-center"> <ul layout="column" style="list-style: none; padding: 0"> <li ng-repeat="step in ex.steps" ng-class="{\'bg-success\': step.rightStep == true, \'bg-danger\': step.rightStep == false}" class="well" style="margin: 1em 0; padding: 0" mathjax>{{step.latex}}</li> </ul> <div class="btn-group"> <button type="button" style="width:auto" class="btn btn-default buttons-latex" mathjax ng-click="buttonLatex(\'^\')">$$x^{y}$$</button> <button type="button" style="width:auto;font-size:12px" class="btn btn-default buttons-latex" mathjax ng-click="buttonLatex(\'\\\\frac\')">$$\\frac{x}{y}$$</button> <button type="button" style="width:auto" class="btn btn-default buttons-latex" mathjax ng-click="buttonLatex(\'\\\\sqrt\')">$$\\sqrt{x}$$</button> <button type="button" style="width:auto" class="btn btn-default buttons-latex" mathjax ng-click="buttonLatex(\'\\\\times\')">$${x}\\times{y}$$</button> </div> <div ng-show="!ex.closed"> <br> <div layout="row" layout-align="start start"> <p style="margin-right: 10px" ng-show="ex.type == 3">Escribe la respuesta:</p> <p style="margin-right: 10px" ng-show="ex.type == 4">Escribe el paso siguiente:</p> <!-- <mathquill model="$parent.latex" default-value="ex.steps.length==0?ex.startLatex:ex.steps[ex.steps.length-1].latex"></mathquill> --> <mathquill model="$parent.latex"></mathquill> <input type="hidden" ng-model="stepLx" value="{{latex}}"> </div> </div> </div> <div class="col-xs-3"> <div class="text-center" ng-show="ex.type == 4"> <p>Resolver como:</p> <div class="btn-group-vertical"> <button type="button" ng-click="setPreference(true)" class="btn btn-primary" ng-class="{\'active\': userPreferences.freeEx}">Entrada libre</button> <button type="button" ng-click="setPreference(false)" class="btn btn-primary" ng-class="{\'active\': !userPreferences.freeEx}">Paso a paso</button> </div> </div> </div> </div> <br> <button type="submit" class="btn btn-success center-block" ng-show="ex.type ==3 && showVerify">REVISAR</button> <div layout="row" ng-show="ex.type == 4 && !userPreferences.freeEx"> <button type="submit" class="btn btn-success center-block" ng-show="showVerify">Verificar paso</button> <a ng-click="verify(answer, true);" class="btn btn-success center-block" ng-show="showVerify">Evaluar resultado</a> </div> <a ng-click="verify(answer, true);" class="btn btn-success center-block" ng-show="ex.type == 4 && userPreferences.freeEx && showVerify">Evaluar resultado</a> <div layout="row" layout-align="center center" ng-show="loading"> <md-progress-circular md-mode="indeterminate" md-diameter="120px"></md-progress-circular> </div> <div class="success"> <h5 class="text-center text-success" ng-show="success">Has respondido correctamente</h5> <h5 class="text-center text-error" ng-show="failed && !errorCode">La respuesta es incorrecta</h5> <h6 class="text-center text-error" ng-show="failed && !errorCode">La respuesta correcta es: <span>{{ex.choices[0]}}</span> </h6> <h5 class="text-center text-error" ng-show="showError">{{errors[errorCode]}}</h5> <div class="row"> <div class="col-xs-6"> <a ng-show="showNext" href="#/topic/{{ex.topic.id}}" ng-class="[\'center-block\', \'btn\', \'btn-large\', {\'btn-success\': success}, {\'btn-danger\': failed}, {\'btn-info\': otherRes}]">Regresar</a> </div> <div class="col-xs-6"> <a ng-show="showNext" ng-click="nextExercise()" ng-class="[\'center-block\', \'btn\', \'btn-large\', {\'btn-success\': success}, {\'btn-danger\': failed}, {\'btn-info\': otherRes}]">Continuar</a> </div> </div> </div> </div> </div> </form> </div>'),a.put("views/login.html",'<!-- <br class="xs-80"> --> <div class="account-wrapper"> <div class="account-body"> <h3>Plataforma de matemáticas</h3> <h2>UNICARIBE</h2> <h6 class="btn-danger" ng-show="error">Usuario o contraseña incorrecta</h6> <div layout="row" layout-align="center center" ng-show="loading"> <md-progress-circular md-mode="indeterminate" md-diameter="120px"></md-progress-circular> </div> <form class="form account-form" ng-submit="doLogin(form)" ng-show="!loading"> <div class="form-group"> <label for="login-username" class="placeholder-hidden">Usuario</label> <input ng-model="form.username" type="text" class="form-control" id="login-username" placeholder="Username" tabindex="1" required> </div> <div class="form-group"> <label for="login-password" class="placeholder-hidden">Contraseña</label> <input ng-model="form.password" type="password" class="form-control" id="login-password" placeholder="Password" tabindex="2" required> </div> <!-- /.form-group --> <div class="form-group clearfix"> <div class="pull-left"> <label class="checkbox-inline"> <input ng-model="form.large" type="checkbox" tabindex="3"> <small>Recordarme</small> </label> </div> <div class="pull-right"> <small><a href="#/recover-password">Olvidaste tu contraseña?</a></small> </div> </div> <!-- /.form-group --> <div class="form-group"> <button type="submit" class="btn btn-primary btn-block btn-lg" tabindex="4"> Acceder &nbsp; <i class="fa fa-play-circle"></i> </button> </div> <!-- /.form-group --> </form> </div> <!-- /.account-body --> <div class="account-footer"> <p> ¿No tienes cuenta? &nbsp; <a href="#/register" class="">¡Crear una cuenta!</a> </p> </div> <!-- /.account-footer --> </div> <!-- /.account-wrapper -->'),a.put("views/main.html",'<div class="row"> <div class="portlet portlet-boxed"> <div class="portlet-header"> <h4 class="portlet-title"> Presentación </h4> </div> <!-- /.portlet-header --> <div class="portlet-body topics-progress"> <div layout="column" layout-align="center center"> <div> <img src="images/unicaribe.65d38e65.jpg" alt="Universidad del Caribe"> </div> <div style="margin-top: 25px"> <p>La Academia de Matemáticas del Departamento de Ciencias Básicas e Ingenierías está conformada por un grupo de profesores que fomenta el aprendizaje de las matemáticas universitarias fundamentales para los diferentes programas educativos de la Universidad del Caribe.</p> <p>Los integrantes de la Academia impulsamos la calidad educativa en las asignaturas que tenemos adscritas a través de la producción de material didáctico, de la utilización de herramientas computacionales de vanguardia para la enseñanza y de la organización de eventos académicos.</p> <p>Esperamos que la información que encuentres en este sitio te resulte interesante y de utilidad. Aprovechamos también para darte la bienvenida a la Universidad.</p> </div> </div> </div> </div> </div> <!-- /.row -->'),a.put("views/notes.html",'<div class="page-header"> <h3 class="page-title">{{note.title}}</h3> <ol class="breadcrumb"> <li><a href="#/dashboard">{{note.topic.unitName}}</a></li> <li><a href="#/topic/{{note.topic.id}}">{{note.topic.name}}</a></li> <li class="active"><a href="">Notas</a></li> </ol> </div> <div class="portlet portlet-boxed"> <div class="portlet-body" marked="note.content" mathjax></div> </div>'),a.put("views/profile.html",'<div class="portlet portlet-boxed"> <div class="portlet-body"> <div class="row"> <div class="col-md-3"> <div class="profile-avatar"> <img src="images/avatar-default.9b6c96cf.jpg" class="profile-avatar-img img-responsive thumbnail" alt="Profile Image"> </div> <!-- /.profile-avatar --> </div> <div class="col-md-6"> <br class="visible-xs"> <h3>{{profile.fullName}}</h3> <!-- <h6 class="text-muted"></h6> --> <hr> <ul class="icons-list"> <li><i class="icon-li fa fa-user"></i> {{profile.username}}</li> <li><i class="icon-li fa fa-envelope"></i> {{profile.email}}</li> <!-- <li><i class="icon-li fa fa-map-marker"></i> Las Vegas, NV</li> --> </ul> <br> </div> <!-- /.col --> <div class="col-md-3"> <div class="heading-block"> <h5>Datos escolares</h5> </div> <form ng-submit="updateCareer(form)"> <label>Carrera</label> <select ng-model="form.idCareer" class="form-control"> <option value>Seleccionar</option> <option ng-repeat="c in careers" value="{{c.id}}" ng-selected="c.id==profile.idCareer">{{c.name}}</option> </select> <br> <button type="submit" class="btn-primary btn btn-sm btn-block">Guardar</button> </form> </div> <!--               <div class="col-md-3">\n                <div class="heading-block">\n                  <h5>Puntaje por curso</h5>\n                </div>\n                <div class="list-group">\n                  <a  ng-repeat="curse in profile.curses" href="" class="list-group-item">\n                    <h3 class="pull-right"><i class="fa fa-dot-circle-o text-primary"></i></h3>\n                    <h4 class="list-group-item-heading">{{curse.points}}</h4>\n                    <p class="list-group-item-text">{{curse.name}}</p>\n                  </a>\n                </div>\n              </div> --> </div> </div> </div>'),a.put("views/recover-password.html",'<div class="account-wrapper"> <div class="account-body"> <h2>Recuperar contraseña</h2> <h5>Te enviaremos instrucciones para recuperar tu contraseña</h5> <form class="form account-form" ng-submit="recovery(email)" ng-show="!success && !loading"> <div class="form-group"> <label for="forgot-email" class="placeholder-hidden">Correo Electrónico</label> <input ng-model="email" type="text" class="form-control" id="forgot-email" placeholder="Your Email" tabindex="1"> </div> <!-- /.form-group --> <div class="form-group"> <button type="submit" class="btn btn-secondary btn-block btn-lg" tabindex="2"> Recuperar contraseña &nbsp; <i class="fa fa-refresh"></i> </button> </div> <div class="form-group"> <a href="#/login"><i class="fa fa-angle-double-left"></i> &nbsp;Regresar al login</a> </div> </form> <div layout="row" layout-align="center center" ng-show="loading && !success"> <md-progress-circular md-mode="indeterminate" md-diameter="100px"></md-progress-circular> </div> <p class="show-error" ng-show="success">Revisa tu correo electronico para recuperar tu contraseña.</p> </div> <!-- /.account-body --> </div> <!-- /.account-wrapper -->'),a.put("views/recovery.html",'<div class="account-wrapper"> <div class="account-body"> <h2>Restablecer contraseña</h2> <form class="form account-form" ng-submit="submit(form)" ng-show="!success && !loading"> <div class="form-group"> <label for="forgot-email" class="placeholder-hidden">Correo Electrónico</label> <input ng-model="form.email" type="email" class="form-control" id="forgot-email" placeholder="Email" tabindex="1" required> <label for="forgot-email" class="placeholder-hidden">Contraseña</label> <input ng-model="form.password" type="password" class="form-control" id="forgot-email" placeholder="Contraseña" tabindex="1" required> <label for="forgot-email" class="placeholder-hidden">Confirmar contraseña</label> <input ng-model="repeatPassword" type="password" class="form-control" id="forgot-email" placeholder="Repite tu contraseña" tabindex="1" required> </div> <!-- /.form-group --> <div class="form-group"> <button type="submit" class="btn btn-secondary btn-block btn-lg" tabindex="2"> Actualizar contraseña &nbsp; <i class="fa fa-refresh"></i> </button> </div> <!-- /.form-group --> <div class="form-group"> <a href="#/login"><i class="fa fa-angle-double-left"></i> &nbsp;Regresar al login</a> </div> <!-- /.form-group --> </form> <div layout="row" layout-align="center center" ng-show="loading && !success && !failed"> <md-progress-circular md-mode="indeterminate" md-diameter="100px"></md-progress-circular> </div> <p class="show-error" ng-show="success">Contraseña actualizada</p> <p class="show-error" ng-show="failed">Error al actualizar la contraseña</p> <p class="show-error" ng-show="showError">{{showError}}</p> </div> <!-- /.account-body --> </div> <!-- /.account-wrapper -->'),a.put("views/register.html",'<div class="account-wrapper"> <div class="account-body"> <h3 ng-show="!msg">Inicia usando tus datos de la universidad.</h3> <!-- <h5>Sign up in 30 seconds. No credit card required.</h5> --> <form class="form account-form" ng-submit="doRegister(form, confirmPassword)" ng-show="!msg"> <div class="form-group"> <label for="signup-email" class="placeholder-hidden">Nombre</label> <input type="text" class="form-control" id="signup-email" ng-model="form.first_name" placeholder="Nombre" tabindex="1" required> </div> <!-- /.form-group --> <div class="form-group"> <label for="signup-fullname" class="placeholder-hidden">Apellido</label> <input type="text" class="form-control" id="signup-fullname" ng-model="form.last_name" placeholder="Apellido" tabindex="2" required> </div> <!-- /.form-group --> <div class="form-group"> <label for="signup-username" class="placeholder-hidden">Correo Electrónico</label> <input type="email" class="form-control" id="signup-username" ng-model="form.email" placeholder="Correo Electrónico" tabindex="3" required> </div> <!-- /.form-group --> <div class="form-group"> <label for="login-password" class="placeholder-hidden">Nombre de usuario</label> <input type="text" class="form-control" id="login-password" ng-model="form.username" placeholder="Nombre de usuario" tabindex="4" required> </div> <!-- /.form-group --> <div class="form-group"> <label for="login-password" class="placeholder-hidden">Contraseña</label> <input type="password" class="form-control" id="login-password" ng-model="form.password" placeholder="Contraseña" tabindex="4" required> </div> <!-- /.form-group --> <div class="form-group"> <label for="login-password" class="placeholder-hidden">Confirmar Contraseña</label> <label for="login-password" class="btn-danger" ng-show="passwordError">Contraseñas distintas</label> <input type="password" class="form-control" id="login-password" ng-model="confirmPassword" placeholder="Confirmar contraseña" tabindex="4" required> </div> <!-- /.form-group --> <!-- <div class="form-group"> --> <!-- <label class="checkbox-inline"> --> <!-- <input type="checkbox" class="" value="" tabindex="5"> I agree to the <a href="javascript:;" target="_blank">Terms of Service</a> &amp; <a href="javascript:;" target="_blank">Privacy Policy</a> --> <!-- </label> --> <!-- </div> --> <div class="form-group"> <button type="submit" class="btn btn-secondary btn-block btn-lg" tabindex="6" ng-show="!loading && !msg"> Registrarme &nbsp; <i class="fa fa-play-circle"></i> </button> <div layout="row" layout-align="center center" ng-show="loading && !msg"> <md-progress-circular md-mode="indeterminate" md-diameter="100px"></md-progress-circular> </div> <ul ng-show="errors"> <li class="danger" ng-repeat="(key,val) in errors">{{key}}: {{val}}</li> </ul> </div> <!-- /.form-group --> </form> <p class="show-error" ng-show="msg">Hemos enviado un correo electrónico para confirmar la cuenta.</p> </div> <!-- /.account-body --> <div class="account-footer"> <p> ¿Ya tienes una cuenta? &nbsp; <a href="#/login" class="">Accede a tu cuenta!</a> </p> </div> <!-- /.account-footer --> </div> <!-- /.account-wrapper -->'),a.put("views/topic.html",'<div class="page-header"> <h3 class="page-title">{{topic.unitName}} / {{topic.name}}</h3> </div> <div class="portlet portlet-boxed"> <div class="portlet-header"> <h4 class="portlet-title">Ejercicios</h4> </div> <div class="portlet-body"> <div class="well"> <p><b>¿Cómo se calculan tus puntos?</b></p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin cursus felis enim, sed rutrum eros gravida at. Integer non nisi aliquam massa commodo pellentesque. Duis non malesuada felis. Phasellus rhoncus nisi porttitor aliquet commodo. Vivamus eget molestie lectus, at accumsan mi. Sed ac nibh a ipsum mollis feugiat a ut dolor. Quisque diam metus, bibendum ornare sapien at, pulvinar commodo mauris. Suspendisse eu dolor mauris. Aenean convallis, enim non blandit euismod, magna erat maximus arcu, at luctus nibh erat vitae libero. Nulla facilisi.</p> </div> <div class="row"> <div class="col-sm-4"> <div class="well text-center"> <span class="badge badge-danger badge-primary pull-right">2 pts</span> <br> <p><i class="fa fa-bicycle fa-5x text-muted"></i></p> <h5>Simples</h5> <div class="preview-ex well text-left"> <h6>Ejemplo</h6> <p marked="topic.examples[0]" mathjax></p> </div> <a href="" ng-click="getEx(0)" class="btn btn-primary btn-block">Intentar</a> </div> </div> <div class="col-sm-4"> <div class="well text-center"> <span class="badge badge-danger badge-primary pull-right">3 pts</span> <br> <p><i class="fa fa-car fa-5x text-muted"></i></p> <h5>Intermedios</h5> <div class="preview-ex well text-left"> <h6>Ejemplo</h6> <p marked="topic.examples[1]" mathjax></p> </div> <a ng-click="getEx(1)" class="btn btn-primary btn-block">Intentar</a> </div> </div> <div class="col-sm-4"> <div class="well text-center"> <span class="badge badge-danger badge-primary pull-right">5 pts</span> <br> <p><i class="fa fa-space-shuttle fa-5x text-muted"></i></p> <h5>Avanzados</h5> <div class="preview-ex well text-left"> <h6>Ejemplo</h6> <p marked="topic.examples[2]" mathjax></p> </div> <a ng-click="getEx(2)" class="btn btn-primary btn-block">Intentar</a> </div> </div> </div> </div> </div> <div class="portlet portlet-boxed"> <div class="portlet-header"> <h4 class="portlet-title">Lecturas</h4> </div> <div class="portlet-body"> <div class="row"> <div class="col-xs-6"> <h4>Internas</h4> <div class="panel-group accordion-panel"> <div ng-repeat="note in topic.notes.internal" class="panel panel-default" ng-class="{\'is-open\':note.show}"> <div class="panel-heading" role="tab"> <h4 class="panel-title"> <a class="accordion-toggle" ng-click="note.show = !note.show" href=""> <i class="fa" ng-class="{\'fa-caret-down\':note.show,\'fa-caret-right\':!note.show}"></i> {{note.title}} </a> </h4> </div> <div class="panel-collapse" ng-show="note.show"> <div class="panel-body"> <div marked="note.markdown" mathjax></div> <div class="text-right"> <a href="#/notes/{{note.id}}" class="btn btn-secondary">Ver mas <i class="fa fa-arrow-right"></i></a> </div> </div> </div> </div> </div> </div> <div class="col-xs-6"> <h4>Externas</h4> <div class="panel-group accordion-panel"> <div ng-repeat="note in topic.notes.external" class="panel panel-default" ng-class="{\'is-open\':note.show}"> <div class="panel-heading" role="tab"> <h4 class="panel-title"> <a class="accordion-toggle" ng-click="note.show = !note.show" href=""> <i class="fa" ng-class="{\'fa-caret-down\':note.show,\'fa-caret-right\':!note.show}"></i> {{note.title}} </a> </h4> </div> <div class="panel-collapse" ng-show="note.show"> <div class="panel-body"> <div marked="note.markdown" mathjax></div> <div class="text-right"> <a href="#/notes/{{note.id}}" class="btn btn-secondary">Ver mas <i class="fa fa-arrow-right"></i></a> </div> </div> </div> </div> </div> </div> </div> </div> </div>')}]);